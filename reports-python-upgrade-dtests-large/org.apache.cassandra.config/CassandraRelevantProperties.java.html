<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CassandraRelevantProperties.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCo Cassandara Coverage Report</a> &gt; <a href="index.source.html" class="el_package">org.apache.cassandra.config</a> &gt; <span class="el_source">CassandraRelevantProperties.java</span></div><h1>CassandraRelevantProperties.java</h1><pre class="source lang-java linenums">/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package org.apache.cassandra.config;

import java.util.HashSet;
import java.util.Set;
import java.util.concurrent.TimeUnit;

import javax.annotation.Nullable;

import com.google.common.primitives.Ints;

import org.apache.cassandra.db.virtual.LogMessagesTable;
import org.apache.cassandra.exceptions.ConfigurationException;
import org.apache.cassandra.service.FileSystemOwnershipCheck;
import org.apache.cassandra.utils.FBUtilities;
import org.apache.cassandra.utils.StorageCompatibilityMode;

// checkstyle: suppress below 'blockSystemPropertyUsage'

/** A class that extracts system properties for the cassandra node it runs within. */
<span class="fc" id="L38">public enum CassandraRelevantProperties</span>
{
<span class="fc" id="L40">    ACQUIRE_RETRY_SECONDS(&quot;cassandra.acquire_retry_seconds&quot;, &quot;60&quot;),</span>
<span class="fc" id="L41">    ACQUIRE_SLEEP_MS(&quot;cassandra.acquire_sleep_ms&quot;, &quot;1000&quot;),</span>
<span class="fc" id="L42">    ALLOCATE_TOKENS_FOR_KEYSPACE(&quot;cassandra.allocate_tokens_for_keyspace&quot;),</span>
<span class="fc" id="L43">    ALLOW_ALTER_RF_DURING_RANGE_MOVEMENT(&quot;cassandra.allow_alter_rf_during_range_movement&quot;),</span>
    /** If we should allow having duplicate keys in the config file, default to true for legacy reasons */
<span class="fc" id="L45">    ALLOW_DUPLICATE_CONFIG_KEYS(&quot;cassandra.allow_duplicate_config_keys&quot;, &quot;true&quot;),</span>
    /** If we should allow having both new (post CASSANDRA-15234) and old config keys for the same config item in the yaml */
<span class="fc" id="L47">    ALLOW_NEW_OLD_CONFIG_KEYS(&quot;cassandra.allow_new_old_config_keys&quot;),</span>
<span class="fc" id="L48">    ALLOW_UNLIMITED_CONCURRENT_VALIDATIONS(&quot;cassandra.allow_unlimited_concurrent_validations&quot;),</span>
<span class="fc" id="L49">    ALLOW_UNSAFE_AGGRESSIVE_SSTABLE_EXPIRATION(&quot;cassandra.allow_unsafe_aggressive_sstable_expiration&quot;),</span>
<span class="fc" id="L50">    ALLOW_UNSAFE_JOIN(&quot;cassandra.allow_unsafe_join&quot;),</span>
<span class="fc" id="L51">    ALLOW_UNSAFE_REPLACE(&quot;cassandra.allow_unsafe_replace&quot;),</span>
<span class="fc" id="L52">    ALLOW_UNSAFE_TRANSIENT_CHANGES(&quot;cassandra.allow_unsafe_transient_changes&quot;),</span>
<span class="fc" id="L53">    APPROXIMATE_TIME_PRECISION_MS(&quot;cassandra.approximate_time_precision_ms&quot;, &quot;2&quot;),</span>
    /** 2 ** GENSALT_LOG2_ROUNDS rounds of hashing will be performed. */
<span class="fc" id="L55">    AUTH_BCRYPT_GENSALT_LOG2_ROUNDS(&quot;cassandra.auth_bcrypt_gensalt_log2_rounds&quot;),</span>
    /** We expect default values on cache retries and interval to be sufficient for everyone but have this escape hatch just in case. */
<span class="fc" id="L57">    AUTH_CACHE_WARMING_MAX_RETRIES(&quot;cassandra.auth_cache.warming.max_retries&quot;),</span>
<span class="fc" id="L58">    AUTH_CACHE_WARMING_RETRY_INTERVAL_MS(&quot;cassandra.auth_cache.warming.retry_interval_ms&quot;),</span>
<span class="fc" id="L59">    AUTOCOMPACTION_ON_STARTUP_ENABLED(&quot;cassandra.autocompaction_on_startup_enabled&quot;, &quot;true&quot;),</span>
<span class="fc" id="L60">    AUTO_BOOTSTRAP(&quot;cassandra.auto_bootstrap&quot;),</span>
<span class="fc" id="L61">    AUTO_REPAIR_FREQUENCY_SECONDS(&quot;cassandra.auto_repair_frequency_seconds&quot;, convertToString(TimeUnit.MINUTES.toSeconds(5))),</span>
<span class="fc" id="L62">    BATCHLOG_REPLAY_TIMEOUT_IN_MS(&quot;cassandra.batchlog.replay_timeout_in_ms&quot;),</span>
<span class="fc" id="L63">    BATCH_COMMIT_LOG_SYNC_INTERVAL(&quot;cassandra.batch_commitlog_sync_interval_millis&quot;, &quot;1000&quot;),</span>
    /**
     * When bootstraping how long to wait for schema versions to be seen.
     */
<span class="fc" id="L67">    BOOTSTRAP_SCHEMA_DELAY_MS(&quot;cassandra.schema_delay_ms&quot;),</span>
    /**
     * When bootstraping we wait for all schema versions found in gossip to be seen, and if not seen in time we fail
     * the bootstrap; this property will avoid failing and allow bootstrap to continue if set to true.
     */
<span class="fc" id="L72">    BOOTSTRAP_SKIP_SCHEMA_CHECK(&quot;cassandra.skip_schema_check&quot;),</span>
<span class="fc" id="L73">    BROADCAST_INTERVAL_MS(&quot;cassandra.broadcast_interval_ms&quot;, &quot;60000&quot;),</span>
<span class="fc" id="L74">    BTREE_BRANCH_SHIFT(&quot;cassandra.btree.branchshift&quot;, &quot;5&quot;),</span>
<span class="fc" id="L75">    BTREE_FAN_FACTOR(&quot;cassandra.btree.fanfactor&quot;),</span>
    /** Represents the maximum size (in bytes) of a serialized mutation that can be cached **/
<span class="fc" id="L77">    CACHEABLE_MUTATION_SIZE_LIMIT(&quot;cassandra.cacheable_mutation_size_limit_bytes&quot;, convertToString(1_000_000)),</span>
<span class="fc" id="L78">    CASSANDRA_ALLOW_SIMPLE_STRATEGY(&quot;cassandra.allow_simplestrategy&quot;),</span>
<span class="fc" id="L79">    CASSANDRA_AVAILABLE_PROCESSORS(&quot;cassandra.available_processors&quot;),</span>
    /** The classpath storage configuration file. */
<span class="fc" id="L81">    CASSANDRA_CONFIG(&quot;cassandra.config&quot;, &quot;cassandra.yaml&quot;),</span>
    /**
     * The cassandra-foreground option will tell CassandraDaemon whether
     * to close stdout/stderr, but it's up to us not to background.
     * yes/null
     */
<span class="fc" id="L87">    CASSANDRA_FOREGROUND(&quot;cassandra-foreground&quot;),</span>
<span class="fc" id="L88">    CASSANDRA_JMX_AUTHORIZER(&quot;cassandra.jmx.authorizer&quot;),</span>
<span class="fc" id="L89">    CASSANDRA_JMX_LOCAL_PORT(&quot;cassandra.jmx.local.port&quot;),</span>
<span class="fc" id="L90">    CASSANDRA_JMX_REMOTE_LOGIN_CONFIG(&quot;cassandra.jmx.remote.login.config&quot;),</span>
    /** Cassandra jmx remote and local port */
<span class="fc" id="L92">    CASSANDRA_JMX_REMOTE_PORT(&quot;cassandra.jmx.remote.port&quot;),</span>
<span class="fc" id="L93">    CASSANDRA_MAX_HINT_TTL(&quot;cassandra.maxHintTTL&quot;, convertToString(Integer.MAX_VALUE)),</span>
<span class="fc" id="L94">    CASSANDRA_MINIMUM_REPLICATION_FACTOR(&quot;cassandra.minimum_replication_factor&quot;),</span>
<span class="fc" id="L95">    CASSANDRA_NETTY_USE_HEAP_ALLOCATOR(&quot;cassandra.netty_use_heap_allocator&quot;),</span>
<span class="fc" id="L96">    CASSANDRA_PID_FILE(&quot;cassandra-pidfile&quot;),</span>
<span class="fc" id="L97">    CASSANDRA_RACKDC_PROPERTIES(&quot;cassandra-rackdc.properties&quot;),</span>
<span class="fc" id="L98">    CASSANDRA_SKIP_AUTOMATIC_UDT_FIX(&quot;cassandra.skipautomaticudtfix&quot;),</span>
<span class="fc" id="L99">    CASSANDRA_STREAMING_DEBUG_STACKTRACE_LIMIT(&quot;cassandra.streaming.debug_stacktrace_limit&quot;, &quot;2&quot;),</span>
<span class="fc" id="L100">    CASSANDRA_UNSAFE_TIME_UUID_NODE(&quot;cassandra.unsafe.timeuuidnode&quot;),</span>
<span class="fc" id="L101">    CASSANDRA_VERSION(&quot;cassandra.version&quot;),</span>
    /** default heartbeating period is 1 minute */
<span class="fc" id="L103">    CHECK_DATA_RESURRECTION_HEARTBEAT_PERIOD(&quot;check_data_resurrection_heartbeat_period_milli&quot;, &quot;60000&quot;),</span>
<span class="fc" id="L104">    CHRONICLE_ANNOUNCER_DISABLE(&quot;chronicle.announcer.disable&quot;),</span>
<span class="fc" id="L105">    CLOCK_GLOBAL(&quot;cassandra.clock&quot;),</span>
<span class="fc" id="L106">    CLOCK_MONOTONIC_APPROX(&quot;cassandra.monotonic_clock.approx&quot;),</span>
<span class="fc" id="L107">    CLOCK_MONOTONIC_PRECISE(&quot;cassandra.monotonic_clock.precise&quot;),</span>
<span class="fc" id="L108">    COMMITLOG_ALLOW_IGNORE_SYNC_CRC(&quot;cassandra.commitlog.allow_ignore_sync_crc&quot;),</span>
<span class="fc" id="L109">    COMMITLOG_IGNORE_REPLAY_ERRORS(&quot;cassandra.commitlog.ignorereplayerrors&quot;),</span>
<span class="fc" id="L110">    COMMITLOG_MAX_OUTSTANDING_REPLAY_BYTES(&quot;cassandra.commitlog_max_outstanding_replay_bytes&quot;, convertToString(1024 * 1024 * 64)),</span>
<span class="fc" id="L111">    COMMITLOG_MAX_OUTSTANDING_REPLAY_COUNT(&quot;cassandra.commitlog_max_outstanding_replay_count&quot;, &quot;1024&quot;),</span>
<span class="fc" id="L112">    COMMITLOG_STOP_ON_ERRORS(&quot;cassandra.commitlog.stop_on_errors&quot;),</span>
    /**
     * Entities to replay mutations for upon commit log replay, property is meant to contain
     * comma-separated entities which are either names of keyspaces or keyspaces and tables or their mix.
     * Examples:
     * just keyspaces
     * -Dcassandra.replayList=ks1,ks2,ks3
     * specific tables
     * -Dcassandra.replayList=ks1.tb1,ks2.tb2
     * mix of tables and keyspaces
     * -Dcassandra.replayList=ks1.tb1,ks2
     *
     * If only keyspaces are specified, mutations for all tables in such keyspace will be replayed
     * */
<span class="fc" id="L126">    COMMIT_LOG_REPLAY_LIST(&quot;cassandra.replayList&quot;),</span>
    /**
     * This property indicates the location for the access file. If com.sun.management.jmxremote.authenticate is false,
     * then this property and the password and access files, are ignored. Otherwise, the access file must exist and
     * be in the valid format. If the access file is empty or nonexistent, then no access is allowed.
     */
<span class="fc" id="L132">    COM_SUN_MANAGEMENT_JMXREMOTE_ACCESS_FILE(&quot;com.sun.management.jmxremote.access.file&quot;),</span>
    /**
     * This property indicates whether password authentication for remote monitoring is
     * enabled. By default it is disabled - com.sun.management.jmxremote.authenticate
     */
<span class="fc" id="L137">    COM_SUN_MANAGEMENT_JMXREMOTE_AUTHENTICATE(&quot;com.sun.management.jmxremote.authenticate&quot;),</span>
    /** This property indicates the path to the password file - com.sun.management.jmxremote.password.file */
<span class="fc" id="L139">    COM_SUN_MANAGEMENT_JMXREMOTE_PASSWORD_FILE(&quot;com.sun.management.jmxremote.password.file&quot;),</span>
    /** Port number to enable JMX RMI connections - com.sun.management.jmxremote.port */
<span class="fc" id="L141">    COM_SUN_MANAGEMENT_JMXREMOTE_PORT(&quot;com.sun.management.jmxremote.port&quot;),</span>
    /**
     * The port number to which the RMI connector will be bound - com.sun.management.jmxremote.rmi.port.
     * An Integer object that represents the value of the second argument is returned
     * if there is no port specified, if the port does not have the correct numeric format,
     * or if the specified name is empty or null.
     */
<span class="fc" id="L148">    COM_SUN_MANAGEMENT_JMXREMOTE_RMI_PORT(&quot;com.sun.management.jmxremote.rmi.port&quot;, &quot;0&quot;),</span>
    /** This property  indicates whether SSL is enabled for monitoring remotely. Default is set to false. */
<span class="fc" id="L150">    COM_SUN_MANAGEMENT_JMXREMOTE_SSL(&quot;com.sun.management.jmxremote.ssl&quot;),</span>
    /**
     * A comma-delimited list of SSL/TLS cipher suites to enable.
     * Used in conjunction with com.sun.management.jmxremote.ssl - com.sun.management.jmxremote.ssl.enabled.cipher.suites
     */
<span class="fc" id="L155">    COM_SUN_MANAGEMENT_JMXREMOTE_SSL_ENABLED_CIPHER_SUITES(&quot;com.sun.management.jmxremote.ssl.enabled.cipher.suites&quot;),</span>
    /**
     * A comma-delimited list of SSL/TLS protocol versions to enable.
     * Used in conjunction with com.sun.management.jmxremote.ssl - com.sun.management.jmxremote.ssl.enabled.protocols
     */
<span class="fc" id="L160">    COM_SUN_MANAGEMENT_JMXREMOTE_SSL_ENABLED_PROTOCOLS(&quot;com.sun.management.jmxremote.ssl.enabled.protocols&quot;),</span>
    /**
     * This property indicates whether SSL client authentication is enabled - com.sun.management.jmxremote.ssl.need.client.auth.
     * Default is set to false.
     */
<span class="fc" id="L165">    COM_SUN_MANAGEMENT_JMXREMOTE_SSL_NEED_CLIENT_AUTH(&quot;com.sun.management.jmxremote.ssl.need.client.auth&quot;),</span>
    /** Defaults to false for 4.1 but plan to switch to true in a later release the thinking is that environments
     * may not work right off the bat so safer to add this feature disabled by default */
<span class="fc" id="L168">    CONFIG_ALLOW_SYSTEM_PROPERTIES(&quot;cassandra.config.allow_system_properties&quot;),</span>
<span class="fc" id="L169">    CONFIG_LOADER(&quot;cassandra.config.loader&quot;),</span>
<span class="fc" id="L170">    CONSISTENT_DIRECTORY_LISTINGS(&quot;cassandra.consistent_directory_listings&quot;),</span>
<span class="fc" id="L171">    CONSISTENT_RANGE_MOVEMENT(&quot;cassandra.consistent.rangemovement&quot;, &quot;true&quot;),</span>
<span class="fc" id="L172">    CONSISTENT_SIMULTANEOUS_MOVES_ALLOW(&quot;cassandra.consistent.simultaneousmoves.allow&quot;),</span>
<span class="fc" id="L173">    CRYPTO_PROVIDER_CLASS_NAME(&quot;cassandra.crypto_provider_class_name&quot;),</span>
<span class="fc" id="L174">    CUSTOM_GUARDRAILS_CONFIG_PROVIDER_CLASS(&quot;cassandra.custom_guardrails_config_provider_class&quot;),</span>
<span class="fc" id="L175">    CUSTOM_QUERY_HANDLER_CLASS(&quot;cassandra.custom_query_handler_class&quot;),</span>
<span class="fc" id="L176">    CUSTOM_TRACING_CLASS(&quot;cassandra.custom_tracing_class&quot;),</span>
    /** Controls the type of bufffer (heap/direct) used for shared scratch buffers */
<span class="fc" id="L178">    DATA_OUTPUT_BUFFER_ALLOCATE_TYPE(&quot;cassandra.dob.allocate_type&quot;),</span>
<span class="fc" id="L179">    DATA_OUTPUT_STREAM_PLUS_TEMP_BUFFER_SIZE(&quot;cassandra.data_output_stream_plus_temp_buffer_size&quot;, &quot;8192&quot;),</span>
<span class="fc" id="L180">    DECAYING_ESTIMATED_HISTOGRAM_RESERVOIR_STRIPE_COUNT(&quot;cassandra.dehr_stripe_count&quot;, &quot;2&quot;),</span>
<span class="fc" id="L181">    DEFAULT_PROVIDE_OVERLAPPING_TOMBSTONES(&quot;default.provide.overlapping.tombstones&quot;),</span>
    /** determinism properties for testing */
<span class="fc" id="L183">    DETERMINISM_SSTABLE_COMPRESSION_DEFAULT(&quot;cassandra.sstable_compression_default&quot;, &quot;true&quot;),</span>
<span class="fc" id="L184">    DETERMINISM_UNSAFE_UUID_NODE(&quot;cassandra.unsafe.deterministicuuidnode&quot;),</span>
<span class="fc" id="L185">    DIAGNOSTIC_SNAPSHOT_INTERVAL_NANOS(&quot;cassandra.diagnostic_snapshot_interval_nanos&quot;, &quot;60000000000&quot;),</span>
<span class="fc" id="L186">    DISABLE_AUTH_CACHES_REMOTE_CONFIGURATION(&quot;cassandra.disable_auth_caches_remote_configuration&quot;),</span>
    /** properties to disable certain behaviours for testing */
<span class="fc" id="L188">    DISABLE_GOSSIP_ENDPOINT_REMOVAL(&quot;cassandra.gossip.disable_endpoint_removal&quot;),</span>
<span class="fc" id="L189">    DISABLE_PAXOS_AUTO_REPAIRS(&quot;cassandra.disable_paxos_auto_repairs&quot;),</span>
<span class="fc" id="L190">    DISABLE_PAXOS_STATE_FLUSH(&quot;cassandra.disable_paxos_state_flush&quot;),</span>
<span class="fc" id="L191">    DISABLE_SSTABLE_ACTIVITY_TRACKING(&quot;cassandra.sstable_activity_tracking&quot;, &quot;true&quot;),</span>
<span class="fc" id="L192">    DISABLE_STCS_IN_L0(&quot;cassandra.disable_stcs_in_l0&quot;),</span>
<span class="fc" id="L193">    DISABLE_TCACTIVE_OPENSSL(&quot;cassandra.disable_tcactive_openssl&quot;),</span>
    /** property for the rate of the scheduled task that monitors disk usage */
<span class="fc" id="L195">    DISK_USAGE_MONITOR_INTERVAL_MS(&quot;cassandra.disk_usage.monitor_interval_ms&quot;, convertToString(TimeUnit.SECONDS.toMillis(30))),</span>
    /** property for the interval on which the repeated client warnings and diagnostic events about disk usage are ignored */
<span class="fc" id="L197">    DISK_USAGE_NOTIFY_INTERVAL_MS(&quot;cassandra.disk_usage.notify_interval_ms&quot;, convertToString(TimeUnit.MINUTES.toMillis(30))),</span>
<span class="fc" id="L198">    DOB_DOUBLING_THRESHOLD_MB(&quot;cassandra.DOB_DOUBLING_THRESHOLD_MB&quot;, &quot;64&quot;),</span>
<span class="fc" id="L199">    DOB_MAX_RECYCLE_BYTES(&quot;cassandra.dob_max_recycle_bytes&quot;, convertToString(1024 * 1024)),</span>
    /**
     * When draining, how long to wait for mutating executors to shutdown.
     */
<span class="fc" id="L203">    DRAIN_EXECUTOR_TIMEOUT_MS(&quot;cassandra.drain_executor_timeout_ms&quot;, convertToString(TimeUnit.MINUTES.toMillis(5))),</span>
<span class="fc" id="L204">    DROP_OVERSIZED_READ_REPAIR_MUTATIONS(&quot;cassandra.drop_oversized_readrepair_mutations&quot;),</span>
<span class="fc" id="L205">    DTEST_API_LOG_TOPOLOGY(&quot;cassandra.dtest.api.log.topology&quot;),</span>
    /** This property indicates if the code is running under the in-jvm dtest framework */
<span class="fc" id="L207">    DTEST_IS_IN_JVM_DTEST(&quot;org.apache.cassandra.dtest.is_in_jvm_dtest&quot;),</span>
<span class="fc" id="L208">    ENABLE_DC_LOCAL_COMMIT(&quot;cassandra.enable_dc_local_commit&quot;, &quot;true&quot;),</span>
    /**
     * Whether {@link org.apache.cassandra.db.ConsistencyLevel#NODE_LOCAL} should be allowed.
     */
<span class="fc" id="L212">    ENABLE_NODELOCAL_QUERIES(&quot;cassandra.enable_nodelocal_queries&quot;),</span>
<span class="fc" id="L213">    EXPIRATION_DATE_OVERFLOW_POLICY(&quot;cassandra.expiration_date_overflow_policy&quot;),</span>
<span class="fc" id="L214">    EXPIRATION_OVERFLOW_WARNING_INTERVAL_MINUTES(&quot;cassandra.expiration_overflow_warning_interval_minutes&quot;, &quot;5&quot;),</span>
<span class="fc" id="L215">    FAILURE_LOGGING_INTERVAL_SECONDS(&quot;cassandra.request_failure_log_interval_seconds&quot;, &quot;60&quot;),</span>
<span class="fc" id="L216">    FAIL_ON_MISSING_CRYPTO_PROVIDER(&quot;cassandra.fail_on_missing_crypto_provider&quot;, &quot;false&quot;),</span>
<span class="fc" id="L217">    FD_INITIAL_VALUE_MS(&quot;cassandra.fd_initial_value_ms&quot;),</span>
<span class="fc" id="L218">    FD_MAX_INTERVAL_MS(&quot;cassandra.fd_max_interval_ms&quot;),</span>
<span class="fc" id="L219">    FILE_CACHE_ENABLED(&quot;cassandra.file_cache_enabled&quot;),</span>
    /** @deprecated should be removed in favor of enable flag of relevant startup check (FileSystemOwnershipCheck) */
<span class="fc" id="L221">    @Deprecated</span>
    FILE_SYSTEM_CHECK_ENABLE(&quot;cassandra.enable_fs_ownership_check&quot;),
    /** @deprecated should be removed in favor of flags in relevant startup check (FileSystemOwnershipCheck) */
<span class="fc" id="L224">    @Deprecated</span>
    FILE_SYSTEM_CHECK_OWNERSHIP_FILENAME(&quot;cassandra.fs_ownership_filename&quot;, FileSystemOwnershipCheck.DEFAULT_FS_OWNERSHIP_FILENAME),
    /** @deprecated should be removed in favor of flags in relevant startup check (FileSystemOwnershipCheck) */
<span class="fc" id="L227">    @Deprecated</span>
    FILE_SYSTEM_CHECK_OWNERSHIP_TOKEN(FileSystemOwnershipCheck.FILE_SYSTEM_CHECK_OWNERSHIP_TOKEN),
<span class="fc" id="L229">    FORCE_DEFAULT_INDEXING_PAGE_SIZE(&quot;cassandra.force_default_indexing_page_size&quot;),</span>
    /** Used when running in Client mode and the system and schema keyspaces need to be initialized outside of their normal initialization path **/
<span class="fc" id="L231">    FORCE_LOAD_LOCAL_KEYSPACES(&quot;cassandra.schema.force_load_local_keyspaces&quot;),</span>
<span class="fc" id="L232">    FORCE_PAXOS_STATE_REBUILD(&quot;cassandra.force_paxos_state_rebuild&quot;),</span>
<span class="fc" id="L233">    GIT_SHA(&quot;cassandra.gitSHA&quot;),</span>
    /**
     * Gossip quarantine delay is used while evaluating membership changes and should only be changed with extreme care.
     */
<span class="fc" id="L237">    GOSSIPER_QUARANTINE_DELAY(&quot;cassandra.gossip_quarantine_delay_ms&quot;),</span>
<span class="fc" id="L238">    GOSSIPER_SKIP_WAITING_TO_SETTLE(&quot;cassandra.skip_wait_for_gossip_to_settle&quot;, &quot;-1&quot;),</span>
<span class="fc" id="L239">    GOSSIP_DISABLE_THREAD_VALIDATION(&quot;cassandra.gossip.disable_thread_validation&quot;),</span>

    /**
     * Delay before checking if gossip is settled.
     */
<span class="fc" id="L244">    GOSSIP_SETTLE_MIN_WAIT_MS(&quot;cassandra.gossip_settle_min_wait_ms&quot;, &quot;5000&quot;),</span>

    /**
     * Interval delay between checking gossip is settled.
     */
<span class="fc" id="L249">    GOSSIP_SETTLE_POLL_INTERVAL_MS(&quot;cassandra.gossip_settle_interval_ms&quot;, &quot;1000&quot;),</span>

    /**
     * Number of polls without gossip state change to consider gossip as settled.
     */
<span class="fc" id="L254">    GOSSIP_SETTLE_POLL_SUCCESSES_REQUIRED(&quot;cassandra.gossip_settle_poll_success_required&quot;, &quot;3&quot;),</span>

<span class="fc" id="L256">    IGNORED_SCHEMA_CHECK_ENDPOINTS(&quot;cassandra.skip_schema_check_for_endpoints&quot;),</span>
<span class="fc" id="L257">    IGNORED_SCHEMA_CHECK_VERSIONS(&quot;cassandra.skip_schema_check_for_versions&quot;),</span>
<span class="fc" id="L258">    IGNORE_CORRUPTED_SCHEMA_TABLES(&quot;cassandra.ignore_corrupted_schema_tables&quot;),</span>
    /** @deprecated should be removed in favor of enable flag of relevant startup check (checkDatacenter) */
<span class="fc" id="L260">    @Deprecated</span>
    IGNORE_DC(&quot;cassandra.ignore_dc&quot;),
<span class="fc" id="L262">    IGNORE_DYNAMIC_SNITCH_SEVERITY(&quot;cassandra.ignore_dynamic_snitch_severity&quot;),</span>
<span class="fc" id="L263">    IGNORE_MISSING_NATIVE_FILE_HINTS(&quot;cassandra.require_native_file_hints&quot;),</span>
    /** @deprecated should be removed in favor of enable flag of relevant startup check (checkRack) */
<span class="fc" id="L265">    @Deprecated</span>
    IGNORE_RACK(&quot;cassandra.ignore_rack&quot;),
<span class="fc" id="L267">    INDEX_SUMMARY_EXPECTED_KEY_SIZE(&quot;cassandra.index_summary_expected_key_size&quot;, &quot;64&quot;),</span>
<span class="fc" id="L268">    INITIAL_TOKEN(&quot;cassandra.initial_token&quot;),</span>
<span class="fc" id="L269">    INTERNODE_EVENT_THREADS(&quot;cassandra.internode-event-threads&quot;),</span>
<span class="fc" id="L270">    IO_NETTY_EVENTLOOP_THREADS(&quot;io.netty.eventLoopThreads&quot;),</span>
<span class="fc" id="L271">    IO_NETTY_TRANSPORT_ESTIMATE_SIZE_ON_SUBMIT(&quot;io.netty.transport.estimateSizeOnSubmit&quot;),</span>
<span class="fc" id="L272">    IO_NETTY_TRANSPORT_NONATIVE(&quot;io.netty.transport.noNative&quot;),</span>
<span class="fc" id="L273">    JAVAX_RMI_SSL_CLIENT_ENABLED_CIPHER_SUITES(&quot;javax.rmi.ssl.client.enabledCipherSuites&quot;),</span>
<span class="fc" id="L274">    JAVAX_RMI_SSL_CLIENT_ENABLED_PROTOCOLS(&quot;javax.rmi.ssl.client.enabledProtocols&quot;),</span>
    /** Java class path. */
<span class="fc" id="L276">    JAVA_CLASS_PATH(&quot;java.class.path&quot;),</span>
<span class="fc" id="L277">    JAVA_HOME(&quot;java.home&quot;),</span>
    /**
     * Indicates the temporary directory used by the Java Virtual Machine (JVM)
     * to create and store temporary files.
     */
<span class="fc" id="L282">    JAVA_IO_TMPDIR(&quot;java.io.tmpdir&quot;),</span>
    /**
     * Path from which to load native libraries.
     * Default is absolute path to lib directory.
     */
<span class="fc" id="L287">    JAVA_LIBRARY_PATH(&quot;java.library.path&quot;),</span>
    /**
     * Controls the distributed garbage collector lease time for JMX objects.
     * Should only be set by in-jvm dtests.
     */
<span class="fc" id="L292">    JAVA_RMI_DGC_LEASE_VALUE_IN_JVM_DTEST(&quot;java.rmi.dgc.leaseValue&quot;),</span>
    /**
     * The value of this property represents the host name string
     * that should be associated with remote stubs for locally created remote objects,
     * in order to allow clients to invoke methods on the remote object.
     */
<span class="fc" id="L298">    JAVA_RMI_SERVER_HOSTNAME(&quot;java.rmi.server.hostname&quot;),</span>
    /**
     * If this value is true, object identifiers for remote objects exported by this VM will be generated by using
     * a cryptographically secure random number generator. The default value is false.
     */
<span class="fc" id="L303">    JAVA_RMI_SERVER_RANDOM_ID(&quot;java.rmi.server.randomIDs&quot;),</span>
<span class="fc" id="L304">    JAVA_SECURITY_AUTH_LOGIN_CONFIG(&quot;java.security.auth.login.config&quot;),</span>
<span class="fc" id="L305">    JAVA_SECURITY_EGD(&quot;java.security.egd&quot;),</span>
    /** Java Runtime Environment version */
<span class="fc" id="L307">    JAVA_VERSION(&quot;java.version&quot;),</span>
    /** Java Virtual Machine implementation name */
<span class="fc" id="L309">    JAVA_VM_NAME(&quot;java.vm.name&quot;),</span>
<span class="fc" id="L310">    JOIN_RING(&quot;cassandra.join_ring&quot;, &quot;true&quot;),</span>
    /**
     * {@link StorageCompatibilityMode} mode sets how the node will behave, sstable or messaging versions to use etc according to a yaml setting. 
     * But many tests don't load the config hence we need to force it otherwise they would run always under the default. Config is null for junits 
     * that don't load the config. Get from env var that CI/build.xml sets.
     *
     * This is a dev/CI only property. Do not use otherwise.
     */
<span class="fc" id="L318">    JUNIT_STORAGE_COMPATIBILITY_MODE(&quot;cassandra.junit_storage_compatibility_mode&quot;, StorageCompatibilityMode.CASSANDRA_4.toString()),</span>
    /** startup checks properties */
<span class="fc" id="L320">    LIBJEMALLOC(&quot;cassandra.libjemalloc&quot;),</span>
    /** Line separator (&quot;\n&quot; on UNIX). */
<span class="fc" id="L322">    LINE_SEPARATOR(&quot;line.separator&quot;),</span>
    /** Load persistence ring state. Default value is {@code true}. */
<span class="fc" id="L324">    LOAD_RING_STATE(&quot;cassandra.load_ring_state&quot;, &quot;true&quot;),</span>
<span class="fc" id="L325">    LOG4J2_DISABLE_JMX(&quot;log4j2.disableJmx&quot;),</span>
<span class="fc" id="L326">    LOG4J2_DISABLE_JMX_LEGACY(&quot;log4j2.disable.jmx&quot;),</span>
<span class="fc" id="L327">    LOG4J_SHUTDOWN_HOOK_ENABLED(&quot;log4j.shutdownHookEnabled&quot;),</span>
<span class="fc" id="L328">    LOGBACK_CONFIGURATION_FILE(&quot;logback.configurationFile&quot;),</span>
    /** Maximum number of rows in system_views.logs table */
<span class="fc" id="L330">    LOGS_VIRTUAL_TABLE_MAX_ROWS(&quot;cassandra.virtual.logs.max.rows&quot;, convertToString(LogMessagesTable.LOGS_VIRTUAL_TABLE_DEFAULT_ROWS)),</span>
    /**
     * Directory where Cassandra puts its logs, defaults to &quot;.&quot; which is current directory.
     */
<span class="fc" id="L334">    LOG_DIR(&quot;cassandra.logdir&quot;, &quot;.&quot;),</span>
    /**
     * Directory where Cassandra persists logs from audit logging. If this property is not set, the audit log framework
     * will set it automatically to {@link CassandraRelevantProperties#LOG_DIR} + &quot;/audit&quot;.
     */
<span class="fc" id="L339">    LOG_DIR_AUDIT(&quot;cassandra.logdir.audit&quot;),</span>
    /** Loosen the definition of &quot;empty&quot; for gossip state, for use during host replacements if things go awry */
<span class="fc" id="L341">    LOOSE_DEF_OF_EMPTY_ENABLED(Config.PROPERTY_PREFIX + &quot;gossiper.loose_empty_enabled&quot;),</span>
<span class="fc" id="L342">    MAX_CONCURRENT_RANGE_REQUESTS(&quot;cassandra.max_concurrent_range_requests&quot;),</span>
<span class="fc" id="L343">    MAX_HINT_BUFFERS(&quot;cassandra.MAX_HINT_BUFFERS&quot;, &quot;3&quot;),</span>
<span class="fc" id="L344">    MAX_LOCAL_PAUSE_IN_MS(&quot;cassandra.max_local_pause_in_ms&quot;, &quot;5000&quot;),</span>
    /** what class to use for mbean registeration */
<span class="fc" id="L346">    MBEAN_REGISTRATION_CLASS(&quot;org.apache.cassandra.mbean_registration_class&quot;),</span>
<span class="fc" id="L347">    MEMTABLE_OVERHEAD_COMPUTE_STEPS(&quot;cassandra.memtable_row_overhead_computation_step&quot;, &quot;100000&quot;),</span>
<span class="fc" id="L348">    MEMTABLE_OVERHEAD_SIZE(&quot;cassandra.memtable.row_overhead_size&quot;, &quot;-1&quot;),</span>
<span class="fc" id="L349">    MEMTABLE_SHARD_COUNT(&quot;cassandra.memtable.shard.count&quot;),</span>
<span class="fc" id="L350">    MEMTABLE_TRIE_SIZE_LIMIT(&quot;cassandra.trie_size_limit_mb&quot;),</span>
<span class="fc" id="L351">    MIGRATION_DELAY(&quot;cassandra.migration_delay_ms&quot;, &quot;60000&quot;),</span>
    /** Defines the maximum number of unique timed out queries that will be reported in the logs. Use a negative number to remove any limit. */
<span class="fc" id="L353">    MONITORING_MAX_OPERATIONS(&quot;cassandra.monitoring_max_operations&quot;, &quot;50&quot;),</span>
    /** Defines the interval for reporting any operations that have timed out. */
<span class="fc" id="L355">    MONITORING_REPORT_INTERVAL_MS(&quot;cassandra.monitoring_report_interval_ms&quot;, &quot;5000&quot;),</span>
<span class="fc" id="L356">    MV_ALLOW_FILTERING_NONKEY_COLUMNS_UNSAFE(&quot;cassandra.mv.allow_filtering_nonkey_columns_unsafe&quot;),</span>
<span class="fc" id="L357">    MV_ENABLE_COORDINATOR_BATCHLOG(&quot;cassandra.mv_enable_coordinator_batchlog&quot;),</span>
    /** mx4jaddress */
<span class="fc" id="L359">    MX4JADDRESS(&quot;mx4jaddress&quot;),</span>
    /** mx4jport */
<span class="fc" id="L361">    MX4JPORT(&quot;mx4jport&quot;),</span>
<span class="fc" id="L362">    NANOTIMETOMILLIS_TIMESTAMP_UPDATE_INTERVAL(&quot;cassandra.NANOTIMETOMILLIS_TIMESTAMP_UPDATE_INTERVAL&quot;, &quot;10000&quot;),</span>
<span class="fc" id="L363">    NATIVE_EPOLL_ENABLED(&quot;cassandra.native.epoll.enabled&quot;, &quot;true&quot;),</span>
    /** This is the port used with RPC address for the native protocol to communicate with clients. Now that thrift RPC is no longer in use there is no RPC port. */
<span class="fc" id="L365">    NATIVE_TRANSPORT_PORT(&quot;cassandra.native_transport_port&quot;),</span>
<span class="fc" id="L366">    NEVER_PURGE_TOMBSTONES(&quot;cassandra.never_purge_tombstones&quot;),</span>
<span class="fc" id="L367">    NIO_DATA_OUTPUT_STREAM_PLUS_BUFFER_SIZE(&quot;cassandra.nio_data_output_stream_plus_buffer_size&quot;, convertToString(32 * 1024)),</span>
<span class="fc" id="L368">    NODETOOL_JMX_NOTIFICATION_POLL_INTERVAL_SECONDS(&quot;cassandra.nodetool.jmx_notification_poll_interval_seconds&quot;, convertToString(TimeUnit.SECONDS.convert(5, TimeUnit.MINUTES))),</span>
    /** If set, {@link org.apache.cassandra.net.MessagingService} is shutdown abrtuptly without waiting for anything.
     * This is an optimization used in unit tests becuase we never restart a node there. The only node is stopoped
     * when the JVM terminates. Therefore, we can use such optimization and not wait unnecessarily. */
<span class="fc" id="L372">    NON_GRACEFUL_SHUTDOWN(&quot;cassandra.test.messagingService.nonGracefulShutdown&quot;),</span>
    /** for specific tests */
    /** This property indicates whether disable_mbean_registration is true */
<span class="fc" id="L375">    ORG_APACHE_CASSANDRA_DISABLE_MBEAN_REGISTRATION(&quot;org.apache.cassandra.disable_mbean_registration&quot;),</span>
    /** Operating system architecture. */
<span class="fc" id="L377">    OS_ARCH(&quot;os.arch&quot;),</span>
    /** Operating system name. */
<span class="fc" id="L379">    OS_NAME(&quot;os.name&quot;),</span>
<span class="fc" id="L380">    OTCP_LARGE_MESSAGE_THRESHOLD(&quot;cassandra.otcp_large_message_threshold&quot;, convertToString(1024 * 64)),</span>
    /** Enabled/disable TCP_NODELAY for intradc connections. Defaults is enabled. */
<span class="fc" id="L382">    OTC_INTRADC_TCP_NODELAY(&quot;cassandra.otc_intradc_tcp_nodelay&quot;, &quot;true&quot;),</span>
<span class="fc" id="L383">    OVERRIDE_DECOMMISSION(&quot;cassandra.override_decommission&quot;),</span>
<span class="fc" id="L384">    PARENT_REPAIR_STATUS_CACHE_SIZE(&quot;cassandra.parent_repair_status_cache_size&quot;, &quot;100000&quot;),</span>
<span class="fc" id="L385">    PARENT_REPAIR_STATUS_EXPIRY_SECONDS(&quot;cassandra.parent_repair_status_expiry_seconds&quot;, convertToString(TimeUnit.SECONDS.convert(1, TimeUnit.DAYS))),</span>
<span class="fc" id="L386">    PARTITIONER(&quot;cassandra.partitioner&quot;),</span>
<span class="fc" id="L387">    PAXOS_CLEANUP_SESSION_TIMEOUT_SECONDS(&quot;cassandra.paxos_cleanup_session_timeout_seconds&quot;, convertToString(TimeUnit.HOURS.toSeconds(2))),</span>
<span class="fc" id="L388">    PAXOS_DISABLE_COORDINATOR_LOCKING(&quot;cassandra.paxos.disable_coordinator_locking&quot;),</span>
<span class="fc" id="L389">    PAXOS_LOG_TTL_LINEARIZABILITY_VIOLATIONS(&quot;cassandra.paxos.log_ttl_linearizability_violations&quot;, &quot;true&quot;),</span>
<span class="fc" id="L390">    PAXOS_MODERN_RELEASE(&quot;cassandra.paxos.modern_release&quot;, &quot;4.1&quot;),</span>
<span class="fc" id="L391">    PAXOS_REPAIR_ALLOW_MULTIPLE_PENDING_UNSAFE(&quot;cassandra.paxos_repair_allow_multiple_pending_unsafe&quot;),</span>
<span class="fc" id="L392">    PAXOS_REPAIR_ON_TOPOLOGY_CHANGE_RETRIES(&quot;cassandra.paxos_repair_on_topology_change_retries&quot;, &quot;10&quot;),</span>
<span class="fc" id="L393">    PAXOS_REPAIR_ON_TOPOLOGY_CHANGE_RETRY_DELAY_SECONDS(&quot;cassandra.paxos_repair_on_topology_change_retry_delay_seconds&quot;, &quot;10&quot;),</span>
<span class="fc" id="L394">    PAXOS_REPAIR_RETRY_TIMEOUT_IN_MS(&quot;cassandra.paxos_repair_retry_timeout_millis&quot;, &quot;60000&quot;),</span>
<span class="fc" id="L395">    PAXOS_USE_SELF_EXECUTION(&quot;cassandra.paxos.use_self_execution&quot;, &quot;true&quot;),</span>
<span class="fc" id="L396">    PRINT_HEAP_HISTOGRAM_ON_OUT_OF_MEMORY_ERROR(&quot;cassandra.printHeapHistogramOnOutOfMemoryError&quot;),</span>
<span class="fc" id="L397">    READS_THRESHOLDS_COORDINATOR_DEFENSIVE_CHECKS_ENABLED(&quot;cassandra.reads.thresholds.coordinator.defensive_checks_enabled&quot;),</span>
<span class="fc" id="L398">    RELEASE_VERSION(&quot;cassandra.releaseVersion&quot;),</span>
<span class="fc" id="L399">    RELOCATED_SHADED_IO_NETTY_TRANSPORT_NONATIVE(&quot;relocated.shaded.io.netty.transport.noNative&quot;),</span>
<span class="fc" id="L400">    REPAIR_CLEANUP_INTERVAL_SECONDS(&quot;cassandra.repair_cleanup_interval_seconds&quot;, convertToString(Ints.checkedCast(TimeUnit.MINUTES.toSeconds(10)))),</span>
<span class="fc" id="L401">    REPAIR_DELETE_TIMEOUT_SECONDS(&quot;cassandra.repair_delete_timeout_seconds&quot;, convertToString(Ints.checkedCast(TimeUnit.DAYS.toSeconds(1)))),</span>
<span class="fc" id="L402">    REPAIR_FAIL_TIMEOUT_SECONDS(&quot;cassandra.repair_fail_timeout_seconds&quot;, convertToString(Ints.checkedCast(TimeUnit.DAYS.toSeconds(1)))),</span>
<span class="fc" id="L403">    REPAIR_MUTATION_REPAIR_ROWS_PER_BATCH(&quot;cassandra.repair.mutation_repair_rows_per_batch&quot;, &quot;100&quot;),</span>
<span class="fc" id="L404">    REPAIR_STATUS_CHECK_TIMEOUT_SECONDS(&quot;cassandra.repair_status_check_timeout_seconds&quot;, convertToString(Ints.checkedCast(TimeUnit.HOURS.toSeconds(1)))),</span>
    /**
     * When doing a host replacement its possible that the gossip state is &quot;empty&quot; meaning that the endpoint is known
     * but the current state isn't known.  If the host replacement is needed to repair this state, this property must
     * be true.
     */
<span class="fc" id="L410">    REPLACEMENT_ALLOW_EMPTY(&quot;cassandra.allow_empty_replace_address&quot;, &quot;true&quot;),</span>
<span class="fc" id="L411">    REPLACE_ADDRESS(&quot;cassandra.replace_address&quot;),</span>
<span class="fc" id="L412">    REPLACE_ADDRESS_FIRST_BOOT(&quot;cassandra.replace_address_first_boot&quot;),</span>
<span class="fc" id="L413">    REPLACE_NODE(&quot;cassandra.replace_node&quot;),</span>
<span class="fc" id="L414">    REPLACE_TOKEN(&quot;cassandra.replace_token&quot;),</span>
    /**
     * Whether we reset any found data from previously run bootstraps.
     */
<span class="fc" id="L418">    RESET_BOOTSTRAP_PROGRESS(&quot;cassandra.reset_bootstrap_progress&quot;),</span>
<span class="fc" id="L419">    RING_DELAY(&quot;cassandra.ring_delay_ms&quot;),</span>

    // SAI specific properties

    /** Controls the maximum number of index query intersections that will take part in a query */
<span class="fc" id="L424">    SAI_INTERSECTION_CLAUSE_LIMIT(&quot;cassandra.sai.intersection_clause_limit&quot;, &quot;2&quot;),</span>
    /** Latest version to be used for SAI index writing */
<span class="fc" id="L426">    SAI_LATEST_VERSION(&quot;cassandra.sai.latest_version&quot;, &quot;aa&quot;),</span>
<span class="fc" id="L427">    SAI_MAX_FROZEN_TERM_SIZE(&quot;cassandra.sai.max_frozen_term_size_kb&quot;, &quot;5&quot;),</span>
<span class="fc" id="L428">    SAI_MAX_STRING_TERM_SIZE(&quot;cassandra.sai.max_string_term_size_kb&quot;, &quot;1&quot;),</span>

    /** Minimum number of reachable leaves for a given node to be eligible for an auxiliary posting list */
<span class="fc" id="L431">    SAI_MINIMUM_POSTINGS_LEAVES(&quot;cassandra.sai.minimum_postings_leaves&quot;, &quot;64&quot;),</span>

    /**
     * Skip, or the sampling interval, for selecting a balanced tree level that is eligible for an auxiliary posting list.
     * Sampling starts from 0, but balanced tree root node is at level 1. For skip = 4, eligible levels are 4, 8, 12, etc. (no
     * level 0, because there is no node at level 0).
     */
<span class="fc" id="L438">    SAI_POSTINGS_SKIP(&quot;cassandra.sai.postings_skip&quot;, &quot;3&quot;),</span>

    /**
     * Used to determine the block size and block mask for the clustering sorted terms.
     */
<span class="fc" id="L443">    SAI_SORTED_TERMS_CLUSTERING_BLOCK_SHIFT(&quot;cassandra.sai.sorted_terms_clustering_block_shift&quot;, &quot;4&quot;),</span>

    /**
     * Used to determine the block size and block mask for the partition sorted terms.
     */
<span class="fc" id="L448">    SAI_SORTED_TERMS_PARTITION_BLOCK_SHIFT(&quot;cassandra.sai.sorted_terms_partition_block_shift&quot;, &quot;4&quot;),</span>

<span class="fc" id="L450">    SAI_TEST_BALANCED_TREE_DEBUG_ENABLED(&quot;cassandra.sai.test.balanced_tree_debug_enabled&quot;, &quot;false&quot;),</span>
<span class="fc" id="L451">    SAI_TEST_DISABLE_TIMEOUT(&quot;cassandra.sai.test.disable.timeout&quot;, &quot;false&quot;),</span>

<span class="fc" id="L453">    SCHEMA_PULL_INTERVAL_MS(&quot;cassandra.schema_pull_interval_ms&quot;, &quot;60000&quot;),</span>
<span class="fc" id="L454">    SCHEMA_UPDATE_HANDLER_FACTORY_CLASS(&quot;cassandra.schema.update_handler_factory.class&quot;),</span>
<span class="fc" id="L455">    SEARCH_CONCURRENCY_FACTOR(&quot;cassandra.search_concurrency_factor&quot;, &quot;1&quot;),</span>

    /**
     * The maximum number of seeds returned by a seed provider before emmitting a warning.
     * A large seed list may impact effectiveness of the third gossip round.
     * The default used in SimpleSeedProvider is 20.
     */
<span class="fc" id="L462">    SEED_COUNT_WARN_THRESHOLD(&quot;cassandra.seed_count_warn_threshold&quot;),</span>
<span class="fc" id="L463">    SERIALIZATION_EMPTY_TYPE_NONEMPTY_BEHAVIOR(&quot;cassandra.serialization.emptytype.nonempty_behavior&quot;),</span>
<span class="fc" id="L464">    SET_SEP_THREAD_NAME(&quot;cassandra.set_sep_thread_name&quot;, &quot;true&quot;),</span>
<span class="fc" id="L465">    SHUTDOWN_ANNOUNCE_DELAY_IN_MS(&quot;cassandra.shutdown_announce_in_ms&quot;, &quot;2000&quot;),</span>
<span class="fc" id="L466">    SIZE_RECORDER_INTERVAL(&quot;cassandra.size_recorder_interval&quot;, &quot;300&quot;),</span>
<span class="fc" id="L467">    SKIP_PAXOS_REPAIR_ON_TOPOLOGY_CHANGE(&quot;cassandra.skip_paxos_repair_on_topology_change&quot;),</span>
    /** If necessary for operational purposes, permit certain keyspaces to be ignored for paxos topology repairs. */
<span class="fc" id="L469">    SKIP_PAXOS_REPAIR_ON_TOPOLOGY_CHANGE_KEYSPACES(&quot;cassandra.skip_paxos_repair_on_topology_change_keyspaces&quot;),</span>
<span class="fc" id="L470">    SKIP_PAXOS_REPAIR_VERSION_VALIDATION(&quot;cassandra.skip_paxos_repair_version_validation&quot;),</span>
<span class="fc" id="L471">    SKIP_PAXOS_STATE_REBUILD(&quot;cassandra.skip_paxos_state_rebuild&quot;),</span>
    /** snapshots ttl cleanup initial delay in seconds */
<span class="fc" id="L473">    SNAPSHOT_CLEANUP_INITIAL_DELAY_SECONDS(&quot;cassandra.snapshot.ttl_cleanup_initial_delay_seconds&quot;, &quot;5&quot;),</span>
    /** snapshots ttl cleanup period in seconds */
<span class="fc" id="L475">    SNAPSHOT_CLEANUP_PERIOD_SECONDS(&quot;cassandra.snapshot.ttl_cleanup_period_seconds&quot;, &quot;60&quot;),</span>
    /** minimum allowed TTL for snapshots */
<span class="fc" id="L477">    SNAPSHOT_MIN_ALLOWED_TTL_SECONDS(&quot;cassandra.snapshot.min_allowed_ttl_seconds&quot;, &quot;60&quot;),</span>
<span class="fc" id="L478">    SSL_ENABLE(&quot;ssl.enable&quot;),</span>
<span class="fc" id="L479">    SSL_STORAGE_PORT(&quot;cassandra.ssl_storage_port&quot;),</span>
<span class="fc" id="L480">    SSTABLE_FORMAT_DEFAULT(&quot;cassandra.sstable.format.default&quot;),</span>
<span class="fc" id="L481">    START_GOSSIP(&quot;cassandra.start_gossip&quot;, &quot;true&quot;),</span>
<span class="fc" id="L482">    START_NATIVE_TRANSPORT(&quot;cassandra.start_native_transport&quot;),</span>
<span class="fc" id="L483">    STORAGE_DIR(&quot;cassandra.storagedir&quot;),</span>
<span class="fc" id="L484">    STORAGE_HOOK(&quot;cassandra.storage_hook&quot;),</span>
<span class="fc" id="L485">    STORAGE_PORT(&quot;cassandra.storage_port&quot;),</span>
<span class="fc" id="L486">    STREAMING_HISTOGRAM_ROUND_SECONDS(&quot;cassandra.streaminghistogram.roundseconds&quot;, &quot;60&quot;),</span>
<span class="fc" id="L487">    STREAMING_SESSION_PARALLELTRANSFERS(&quot;cassandra.streaming.session.parallelTransfers&quot;),</span>
<span class="fc" id="L488">    STREAM_HOOK(&quot;cassandra.stream_hook&quot;),</span>
    /** Platform word size sun.arch.data.model. Examples: &quot;32&quot;, &quot;64&quot;, &quot;unknown&quot;*/
<span class="fc" id="L490">    SUN_ARCH_DATA_MODEL(&quot;sun.arch.data.model&quot;),</span>
<span class="fc" id="L491">    SUN_JAVA_COMMAND(&quot;sun.java.command&quot;, &quot;&quot;),</span>
    /**
     * Controls the JMX server threadpool keap-alive time.
     * Should only be set by in-jvm dtests.
     */
<span class="fc" id="L496">    SUN_RMI_TRANSPORT_TCP_THREADKEEPALIVETIME(&quot;sun.rmi.transport.tcp.threadKeepAliveTime&quot;),</span>
<span class="fc" id="L497">    SUN_STDERR_ENCODING(&quot;sun.stderr.encoding&quot;),</span>
<span class="fc" id="L498">    SUN_STDOUT_ENCODING(&quot;sun.stdout.encoding&quot;),</span>
<span class="fc" id="L499">    SUPERUSER_SETUP_DELAY_MS(&quot;cassandra.superuser_setup_delay_ms&quot;, &quot;10000&quot;),</span>
<span class="fc" id="L500">    SYSTEM_AUTH_DEFAULT_RF(&quot;cassandra.system_auth.default_rf&quot;, &quot;1&quot;),</span>
<span class="fc" id="L501">    SYSTEM_DISTRIBUTED_DEFAULT_RF(&quot;cassandra.system_distributed.default_rf&quot;, &quot;3&quot;),</span>
<span class="fc" id="L502">    SYSTEM_TRACES_DEFAULT_RF(&quot;cassandra.system_traces.default_rf&quot;, &quot;2&quot;),</span>
<span class="fc" id="L503">    TEST_BBFAILHELPER_ENABLED(&quot;test.bbfailhelper.enabled&quot;),</span>
<span class="fc" id="L504">    TEST_BLOB_SHARED_SEED(&quot;cassandra.test.blob.shared.seed&quot;),</span>
<span class="fc" id="L505">    TEST_BYTEMAN_TRANSFORMATIONS_DEBUG(&quot;cassandra.test.byteman.transformations.debug&quot;),</span>
<span class="fc" id="L506">    TEST_CASSANDRA_KEEPBRIEFBRIEF(&quot;cassandra.keepBriefBrief&quot;),</span>
<span class="fc" id="L507">    TEST_CASSANDRA_RELEVANT_PROPERTIES(&quot;org.apache.cassandra.conf.CassandraRelevantPropertiesTest&quot;),</span>
    /** A property for various mechanisms for syncing files that makes it possible it intercept and skip syncing. */
<span class="fc" id="L509">    TEST_CASSANDRA_SKIP_SYNC(&quot;cassandra.skip_sync&quot;),</span>
<span class="fc" id="L510">    TEST_CASSANDRA_SUITENAME(&quot;suitename&quot;, &quot;suitename_IS_UNDEFINED&quot;),</span>
<span class="fc" id="L511">    TEST_CASSANDRA_TESTTAG(&quot;cassandra.testtag&quot;, &quot;cassandra.testtag_IS_UNDEFINED&quot;),</span>
<span class="fc" id="L512">    TEST_COMPRESSION(&quot;cassandra.test.compression&quot;),</span>
<span class="fc" id="L513">    TEST_COMPRESSION_ALGO(&quot;cassandra.test.compression.algo&quot;, &quot;lz4&quot;),</span>
<span class="fc" id="L514">    TEST_DEBUG_REF_COUNT(&quot;cassandra.debugrefcount&quot;),</span>
<span class="fc" id="L515">    TEST_DRIVER_CONNECTION_TIMEOUT_MS(&quot;cassandra.test.driver.connection_timeout_ms&quot;, &quot;5000&quot;),</span>
<span class="fc" id="L516">    TEST_DRIVER_READ_TIMEOUT_MS(&quot;cassandra.test.driver.read_timeout_ms&quot;, &quot;12000&quot;),</span>
<span class="fc" id="L517">    TEST_ENCRYPTION(&quot;cassandra.test.encryption&quot;, &quot;false&quot;),</span>
<span class="fc" id="L518">    TEST_FAIL_MV_LOCKS_COUNT(&quot;cassandra.test.fail_mv_locks_count&quot;, &quot;0&quot;),</span>
<span class="fc" id="L519">    TEST_FAIL_WRITES_KS(&quot;cassandra.test.fail_writes_ks&quot;, &quot;&quot;),</span>
    /** Flush changes of {@link org.apache.cassandra.schema.SchemaKeyspace} after each schema modification. In production,
     * we always do that. However, tests which do not restart nodes may disable this functionality in order to run
     * faster. Note that this is disabled for unit tests but if an individual test requires schema to be flushed, it
     * can be also done manually for that particular case: {@code flush(SchemaConstants.SCHEMA_KEYSPACE_NAME);}. */
<span class="fc" id="L524">    TEST_FLUSH_LOCAL_SCHEMA_CHANGES(&quot;cassandra.test.flush_local_schema_changes&quot;, &quot;true&quot;),</span>
<span class="fc" id="L525">    TEST_IGNORE_SIGAR(&quot;cassandra.test.ignore_sigar&quot;),</span>
<span class="fc" id="L526">    TEST_INVALID_LEGACY_SSTABLE_ROOT(&quot;invalid-legacy-sstable-root&quot;),</span>
<span class="fc" id="L527">    TEST_JVM_DTEST_DISABLE_SSL(&quot;cassandra.test.disable_ssl&quot;),</span>
<span class="fc" id="L528">    TEST_LEGACY_SSTABLE_ROOT(&quot;legacy-sstable-root&quot;),</span>
<span class="fc" id="L529">    TEST_ORG_CAFFINITAS_OHC_SEGMENTCOUNT(&quot;org.caffinitas.ohc.segmentCount&quot;),</span>
<span class="fc" id="L530">    TEST_RANDOM_SEED(&quot;cassandra.test.random.seed&quot;),</span>
<span class="fc" id="L531">    TEST_READ_ITERATION_DELAY_MS(&quot;cassandra.test.read_iteration_delay_ms&quot;, &quot;0&quot;),</span>
<span class="fc" id="L532">    TEST_REUSE_PREPARED(&quot;cassandra.test.reuse_prepared&quot;, &quot;true&quot;),</span>
<span class="fc" id="L533">    TEST_ROW_CACHE_SIZE(&quot;cassandra.test.row_cache_size&quot;),</span>
<span class="fc" id="L534">    TEST_SERIALIZATION_WRITES(&quot;cassandra.test-serialization-writes&quot;),</span>
<span class="fc" id="L535">    TEST_SIMULATOR_DEBUG(&quot;cassandra.test.simulator.debug&quot;),</span>
<span class="fc" id="L536">    TEST_SIMULATOR_DETERMINISM_CHECK(&quot;cassandra.test.simulator.determinismcheck&quot;, &quot;none&quot;),</span>
<span class="fc" id="L537">    TEST_SIMULATOR_LIVENESS_CHECK(&quot;cassandra.test.simulator.livenesscheck&quot;, &quot;true&quot;),</span>
    /** properties for debugging simulator ASM output */
<span class="fc" id="L539">    TEST_SIMULATOR_PRINT_ASM(&quot;cassandra.test.simulator.print_asm&quot;, &quot;none&quot;),</span>
<span class="fc" id="L540">    TEST_SIMULATOR_PRINT_ASM_CLASSES(&quot;cassandra.test.simulator.print_asm_classes&quot;, &quot;&quot;),</span>
<span class="fc" id="L541">    TEST_SIMULATOR_PRINT_ASM_OPTS(&quot;cassandra.test.simulator.print_asm_opts&quot;, &quot;&quot;),</span>
<span class="fc" id="L542">    TEST_SIMULATOR_PRINT_ASM_TYPES(&quot;cassandra.test.simulator.print_asm_types&quot;, &quot;&quot;),</span>
<span class="fc" id="L543">    TEST_SKIP_CRYPTO_PROVIDER_INSTALLATION(&quot;cassandra.test.security.skip.provider.installation&quot;, &quot;false&quot;),</span>
<span class="fc" id="L544">    TEST_SSTABLE_FORMAT_DEVELOPMENT(&quot;cassandra.test.sstableformatdevelopment&quot;),</span>
<span class="fc" id="L545">    TEST_STRICT_LCS_CHECKS(&quot;cassandra.test.strict_lcs_checks&quot;),</span>
    /** Turns some warnings into exceptions for testing. */
<span class="fc" id="L547">    TEST_STRICT_RUNTIME_CHECKS(&quot;cassandra.strict.runtime.checks&quot;),</span>
    /** Not to be used in production, this causes a Netty logging handler to be added to the pipeline, which will throttle a system under any normal load. */
<span class="fc" id="L549">    TEST_UNSAFE_VERBOSE_DEBUG_CLIENT_PROTOCOL(&quot;cassandra.unsafe_verbose_debug_client_protocol&quot;),</span>
<span class="fc" id="L550">    TEST_USE_PREPARED(&quot;cassandra.test.use_prepared&quot;, &quot;true&quot;),</span>
<span class="fc" id="L551">    TEST_UTIL_ALLOW_TOOL_REINIT_FOR_TEST(&quot;org.apache.cassandra.tools.UtilALLOW_TOOL_REINIT_FOR_TEST&quot;),</span>
    /** Activate write survey mode. The node not becoming an active ring member, and you must use JMX StorageService-&gt;joinRing() to finalize the ring joining. */
<span class="fc" id="L553">    TEST_WRITE_SURVEY(&quot;cassandra.write_survey&quot;),</span>
<span class="fc" id="L554">    TOLERATE_SSTABLE_SIZE(&quot;cassandra.tolerate_sstable_size&quot;),</span>
<span class="fc" id="L555">    TRIGGERS_DIR(&quot;cassandra.triggers_dir&quot;),</span>
<span class="fc" id="L556">    TRUNCATE_BALLOT_METADATA(&quot;cassandra.truncate_ballot_metadata&quot;),</span>
<span class="fc" id="L557">    TYPE_UDT_CONFLICT_BEHAVIOR(&quot;cassandra.type.udt.conflict_behavior&quot;),</span>
    // See org.apache.cassandra.db.compaction.unified.Controller for the definition of the UCS parameters
<span class="fc" id="L559">    UCS_BASE_SHARD_COUNT(&quot;unified_compaction.base_shard_count&quot;, &quot;4&quot;),</span>
<span class="fc" id="L560">    UCS_OVERLAP_INCLUSION_METHOD(&quot;unified_compaction.overlap_inclusion_method&quot;),</span>
<span class="fc" id="L561">    UCS_SCALING_PARAMETER(&quot;unified_compaction.scaling_parameters&quot;, &quot;T4&quot;),</span>
<span class="fc" id="L562">    UCS_SURVIVAL_FACTOR(&quot;unified_compaction.survival_factor&quot;, &quot;1&quot;),</span>
<span class="fc" id="L563">    UCS_TARGET_SSTABLE_SIZE(&quot;unified_compaction.target_sstable_size&quot;, &quot;1GiB&quot;),</span>
<span class="fc" id="L564">    UDF_EXECUTOR_THREAD_KEEPALIVE_MS(&quot;cassandra.udf_executor_thread_keepalive_ms&quot;, &quot;30000&quot;),</span>
<span class="fc" id="L565">    UNSAFE_SYSTEM(&quot;cassandra.unsafesystem&quot;),</span>
    /** User's home directory. */
<span class="fc" id="L567">    USER_HOME(&quot;user.home&quot;),</span>
    /** When enabled, recursive directory deletion will be executed using a unix command `rm -rf` instead of traversing
     * and removing individual files. This is now used only tests, but eventually we will make it true by default.*/
<span class="fc" id="L570">    USE_NIX_RECURSIVE_DELETE(&quot;cassandra.use_nix_recursive_delete&quot;),</span>
    /** Gossiper compute expiration timeout. Default value 3 days. */
<span class="fc" id="L572">    VERY_LONG_TIME_MS(&quot;cassandra.very_long_time_ms&quot;, &quot;259200000&quot;),</span>
<span class="fc" id="L573">    WAIT_FOR_TRACING_EVENTS_TIMEOUT_SECS(&quot;cassandra.wait_for_tracing_events_timeout_secs&quot;, &quot;0&quot;);</span>

    static
    {
<span class="fc" id="L577">        CassandraRelevantProperties[] values = CassandraRelevantProperties.values();</span>
<span class="fc" id="L578">        Set&lt;String&gt; visited = new HashSet&lt;&gt;(values.length);</span>
<span class="fc" id="L579">        CassandraRelevantProperties prev = null;</span>
<span class="fc bfc" id="L580" title="All 2 branches covered.">        for (CassandraRelevantProperties next : values)</span>
        {
<span class="pc bpc" id="L582" title="1 of 2 branches missed.">            if (!visited.add(next.getKey()))</span>
<span class="nc" id="L583">                throw new IllegalStateException(&quot;System properties have duplicate key: &quot; + next.getKey());</span>
<span class="pc bpc" id="L584" title="1 of 4 branches missed.">            if (prev != null &amp;&amp; next.name().compareTo(prev.name()) &lt; 0)</span>
<span class="nc" id="L585">                throw new IllegalStateException(&quot;Enum constants are not in alphabetical order: &quot; + prev.name() + &quot; should come before &quot; + next.name());</span>
            else
<span class="fc" id="L587">                prev = next;</span>
        }
    }

    CassandraRelevantProperties(String key, String defaultVal)
<span class="fc" id="L592">    {</span>
<span class="fc" id="L593">        this.key = key;</span>
<span class="fc" id="L594">        this.defaultVal = defaultVal;</span>
<span class="fc" id="L595">    }</span>

    CassandraRelevantProperties(String key)
<span class="fc" id="L598">    {</span>
<span class="fc" id="L599">        this.key = key;</span>
<span class="fc" id="L600">        this.defaultVal = null;</span>
<span class="fc" id="L601">    }</span>

    private final String key;
    private final String defaultVal;

    public String getKey()
    {
<span class="fc" id="L608">        return key;</span>
    }

    /**
     * Gets the value of the indicated system property.
     * @return system property value if it exists, defaultValue otherwise.
     */
    public String getString()
    {
<span class="fc" id="L617">        String value = System.getProperty(key);</span>

<span class="fc bfc" id="L619" title="All 2 branches covered.">        return value == null ? defaultVal : STRING_CONVERTER.convert(value);</span>
    }

    /**
     * Returns default value.
     *
     * @return default value, if any, otherwise null.
     */
    public String getDefaultValue()
    {
<span class="fc" id="L629">        return defaultVal;</span>
    }

    /**
     * Sets the property to its default value if a default value was specified. Remove the property otherwise.
     */
    public void reset()
    {
<span class="nc bnc" id="L637" title="All 2 branches missed.">        if (defaultVal != null)</span>
<span class="nc" id="L638">            System.setProperty(key, defaultVal);</span>
        else
<span class="nc" id="L640">            System.getProperties().remove(key);</span>
<span class="nc" id="L641">    }</span>

    /**
     * Gets the value of a system property as a String.
     * @return system property String value if it exists, overrideDefaultValue otherwise.
     */
    public String getString(String overrideDefaultValue)
    {
<span class="fc" id="L649">        String value = System.getProperty(key);</span>
<span class="pc bpc" id="L650" title="1 of 2 branches missed.">        if (value == null)</span>
<span class="fc" id="L651">            return overrideDefaultValue;</span>

<span class="nc" id="L653">        return STRING_CONVERTER.convert(value);</span>
    }

    public &lt;T&gt; T convert(PropertyConverter&lt;T&gt; converter)
    {
<span class="nc" id="L658">        String value = System.getProperty(key);</span>
<span class="nc bnc" id="L659" title="All 2 branches missed.">        if (value == null)</span>
<span class="nc" id="L660">            value = defaultVal;</span>

<span class="nc" id="L662">        return converter.convert(value);</span>
    }

    public static String convertToString(@Nullable Object value)
    {
<span class="pc bpc" id="L667" title="1 of 2 branches missed.">        if (value == null)</span>
<span class="nc" id="L668">            return null;</span>
<span class="pc bpc" id="L669" title="1 of 2 branches missed.">        if (value instanceof String)</span>
<span class="nc" id="L670">            return (String) value;</span>
<span class="fc bfc" id="L671" title="All 2 branches covered.">        if (value instanceof Boolean)</span>
<span class="fc" id="L672">            return Boolean.toString((Boolean) value);</span>
<span class="fc bfc" id="L673" title="All 2 branches covered.">        if (value instanceof Long)</span>
<span class="fc" id="L674">            return Long.toString((Long) value);</span>
<span class="pc bpc" id="L675" title="1 of 2 branches missed.">        if (value instanceof Integer)</span>
<span class="fc" id="L676">            return Integer.toString((Integer) value);</span>
<span class="nc bnc" id="L677" title="All 2 branches missed.">        if (value instanceof Double)</span>
<span class="nc" id="L678">            return Double.toString((Double) value);</span>
<span class="nc bnc" id="L679" title="All 2 branches missed.">        if (value instanceof Float)</span>
<span class="nc" id="L680">            return Float.toString((Float) value);</span>
<span class="nc" id="L681">        throw new IllegalArgumentException(&quot;Unknown type &quot; + value.getClass());</span>
    }

    /**
     * Sets the value into system properties.
     * @param value to set
     */
    public String setString(String value)
    {
<span class="fc" id="L690">        return System.setProperty(key, value);</span>
    }

    /**
     * Gets the value of a system property as a boolean.
     * @return system property boolean value if it exists, false otherwise().
     */
    public boolean getBoolean()
    {
<span class="fc" id="L699">        String value = System.getProperty(key);</span>

<span class="fc bfc" id="L701" title="All 2 branches covered.">        return BOOLEAN_CONVERTER.convert(value == null ? defaultVal : value);</span>
    }

    /**
     * Gets the value of a system property as a boolean.
     * @return system property boolean value if it exists, overrideDefaultValue otherwise.
     */
    public boolean getBoolean(boolean overrideDefaultValue)
    {
<span class="fc" id="L710">        String value = System.getProperty(key);</span>
<span class="pc bpc" id="L711" title="1 of 2 branches missed.">        if (value == null)</span>
<span class="fc" id="L712">            return overrideDefaultValue;</span>

<span class="nc" id="L714">        return BOOLEAN_CONVERTER.convert(value);</span>
    }

    /**
     * Sets the value into system properties.
     * @param value to set
     * @return Previous value if it exists.
     */
    public Boolean setBoolean(boolean value)
    {
<span class="fc" id="L724">        String prev = System.setProperty(key, convertToString(value));</span>
<span class="pc bpc" id="L725" title="1 of 2 branches missed.">        return prev == null ? null : BOOLEAN_CONVERTER.convert(prev);</span>
    }

    /**
     * Clears the value set in the system property.
     */
    public void clearValue()
    {
<span class="nc" id="L733">        System.clearProperty(key);</span>
<span class="nc" id="L734">    }</span>

    /**
     * Gets the value of a system property as a int.
     * @return System property value if it exists, defaultValue otherwise. Throws an exception if no default value is set.
     */
    public int getInt()
    {
<span class="fc" id="L742">        String value = System.getProperty(key);</span>
<span class="pc bpc" id="L743" title="2 of 4 branches missed.">        if (value == null &amp;&amp; defaultVal == null)</span>
<span class="nc" id="L744">            throw new ConfigurationException(&quot;Missing property value or default value is not set: &quot; + key);</span>
<span class="pc bpc" id="L745" title="1 of 2 branches missed.">        return INTEGER_CONVERTER.convert(value == null ? defaultVal : value);</span>
    }

    /**
     * Gets the value of a system property as a long.
     * @return System property value if it exists, defaultValue otherwise. Throws an exception if no default value is set.
     */
    public long getLong()
    {
<span class="fc" id="L754">        String value = System.getProperty(key);</span>
<span class="pc bpc" id="L755" title="2 of 4 branches missed.">        if (value == null &amp;&amp; defaultVal == null)</span>
<span class="nc" id="L756">            throw new ConfigurationException(&quot;Missing property value or default value is not set: &quot; + key);</span>
<span class="pc bpc" id="L757" title="1 of 2 branches missed.">        return LONG_CONVERTER.convert(value == null ? defaultVal : value);</span>
    }

    /**
     * Gets the value of a system property as a long.
     * @return system property long value if it exists, defaultValue otherwise.
     */
    public long getLong(long overrideDefaultValue)
    {
<span class="fc" id="L766">        String value = System.getProperty(key);</span>
<span class="pc bpc" id="L767" title="1 of 2 branches missed.">        if (value == null)</span>
<span class="fc" id="L768">            return overrideDefaultValue;</span>

<span class="nc" id="L770">        return LONG_CONVERTER.convert(value);</span>
    }

    /**
     * Gets the value of a system property as a double.
     * @return System property value if it exists, defaultValue otherwise. Throws an exception if no default value is set.
     */
    public double getDouble()
    {
<span class="nc" id="L779">        String value = System.getProperty(key);</span>
<span class="nc bnc" id="L780" title="All 4 branches missed.">        if (value == null &amp;&amp; defaultVal == null)</span>
<span class="nc" id="L781">            throw new ConfigurationException(&quot;Missing property value or default value is not set: &quot; + key);</span>
<span class="nc bnc" id="L782" title="All 2 branches missed.">        return DOUBLE_CONVERTER.convert(value == null ? defaultVal : value);</span>
    }

    /**
     * Gets the value of a system property as a double.
     * @return system property value if it exists, defaultValue otherwise.
     */
    public double getDouble(double overrideDefaultValue)
    {
<span class="nc" id="L791">        String value = System.getProperty(key);</span>
<span class="nc bnc" id="L792" title="All 2 branches missed.">        if (value == null)</span>
<span class="nc" id="L793">            return overrideDefaultValue;</span>

<span class="nc" id="L795">        return DOUBLE_CONVERTER.convert(value);</span>
    }

    /**
     * Gets the value of a system property, given as a human-readable size in bytes (e.g. 100MiB, 10GB, 500B).
     * @return System property value if it exists, defaultValue otherwise. Throws an exception if no default value is set.
     */
    public long getSizeInBytes()
    {
<span class="nc" id="L804">        String value = System.getProperty(key);</span>
<span class="nc bnc" id="L805" title="All 4 branches missed.">        if (value == null &amp;&amp; defaultVal == null)</span>
<span class="nc" id="L806">            throw new ConfigurationException(&quot;Missing property value or default value is not set: &quot; + key);</span>
<span class="nc bnc" id="L807" title="All 2 branches missed.">        return SIZE_IN_BYTES_CONVERTER.convert(value == null ? defaultVal : value);</span>
    }

    /**
     * Gets the value of a system property, given as a human-readable size in bytes (e.g. 100MiB, 10GB, 500B).
     * @return System property value if it exists, defaultValue otherwise.
     */
    public long getSizeInBytes(long overrideDefaultValue)
    {
<span class="nc" id="L816">        String value = System.getProperty(key);</span>
<span class="nc bnc" id="L817" title="All 2 branches missed.">        if (value == null)</span>
<span class="nc" id="L818">            return overrideDefaultValue;</span>

<span class="nc" id="L820">        return SIZE_IN_BYTES_CONVERTER.convert(value);</span>
    }

    /**
     * Gets the value of a system property as an int.
     * @return system property int value if it exists, overrideDefaultValue otherwise.
     */
    public int getInt(int overrideDefaultValue)
    {
<span class="fc" id="L829">        String value = System.getProperty(key);</span>
<span class="pc bpc" id="L830" title="1 of 2 branches missed.">        if (value == null)</span>
<span class="fc" id="L831">            return overrideDefaultValue;</span>

<span class="nc" id="L833">        return INTEGER_CONVERTER.convert(value);</span>
    }

    /**
     * Sets the value into system properties.
     * @param value to set
     * @return Previous value or null if it did not have one.
     */
    public Integer setInt(int value)
    {
<span class="nc" id="L843">        String prev = System.setProperty(key, convertToString(value));</span>
<span class="nc bnc" id="L844" title="All 2 branches missed.">        return prev == null ? null : INTEGER_CONVERTER.convert(prev);</span>
    }

    /**
     * Sets the value into system properties.
     * @param value to set
     * @return Previous value or null if it did not have one.
     */
    public Long setLong(long value)
    {
<span class="nc" id="L854">        String prev = System.setProperty(key, convertToString(value));</span>
<span class="nc bnc" id="L855" title="All 2 branches missed.">        return prev == null ? null : LONG_CONVERTER.convert(prev);</span>
    }

    /**
     * Gets the value of a system property as a enum, calling {@link String#toUpperCase()} first.
     *
     * @param defaultValue to return when not defined
     * @param &lt;T&gt; type
     * @return enum value
     */
    public &lt;T extends Enum&lt;T&gt;&gt; T getEnum(T defaultValue)
    {
<span class="fc" id="L867">        return getEnum(true, defaultValue);</span>
    }

    /**
     * Gets the value of a system property as a enum, optionally calling {@link String#toUpperCase()} first.
     *
     * @param toUppercase before converting to enum
     * @param defaultValue to return when not defined
     * @param &lt;T&gt; type
     * @return enum value
     */
    public &lt;T extends Enum&lt;T&gt;&gt; T getEnum(boolean toUppercase, T defaultValue)
    {
<span class="fc" id="L880">        String value = System.getProperty(key);</span>
<span class="pc bpc" id="L881" title="1 of 2 branches missed.">        if (value == null)</span>
<span class="fc" id="L882">            return defaultValue;</span>
<span class="nc bnc" id="L883" title="All 2 branches missed.">        return Enum.valueOf(defaultValue.getDeclaringClass(), toUppercase ? value.toUpperCase() : value);</span>
    }

    /**
     * Gets the value of a system property as an enum, optionally calling {@link String#toUpperCase()} first.
     * If the value is missing, the default value for this property is used
     *
     * @param toUppercase before converting to enum
     * @param enumClass enumeration class
     * @param &lt;T&gt; type
     * @return enum value
     */
    public &lt;T extends Enum&lt;T&gt;&gt; T getEnum(boolean toUppercase, Class&lt;T&gt; enumClass)
    {
<span class="nc" id="L897">        String value = System.getProperty(key, defaultVal);</span>
<span class="nc bnc" id="L898" title="All 2 branches missed.">        return Enum.valueOf(enumClass, toUppercase ? value.toUpperCase() : value);</span>
    }

    /**
     * Sets the value into system properties.
     * @param value to set
     */
    public void setEnum(Enum&lt;?&gt; value)
    {
<span class="nc" id="L907">        System.setProperty(key, value.name());</span>
<span class="nc" id="L908">    }</span>

    public interface PropertyConverter&lt;T&gt;
    {
        T convert(String value);
    }

<span class="fc" id="L915">    private static final PropertyConverter&lt;String&gt; STRING_CONVERTER = value -&gt; value;</span>

<span class="fc" id="L917">    private static final PropertyConverter&lt;Boolean&gt; BOOLEAN_CONVERTER = Boolean::parseBoolean;</span>

<span class="fc" id="L919">    private static final PropertyConverter&lt;Integer&gt; INTEGER_CONVERTER = value -&gt;</span>
    {
        try
        {
<span class="fc" id="L923">            return Integer.decode(value);</span>
        }
<span class="nc" id="L925">        catch (NumberFormatException e)</span>
        {
<span class="nc" id="L927">            throw new ConfigurationException(String.format(&quot;Invalid value for system property: &quot; +</span>
                                                           &quot;expected integer value but got '%s'&quot;, value));
        }
    };

<span class="fc" id="L932">    private static final PropertyConverter&lt;Long&gt; LONG_CONVERTER = value -&gt;</span>
    {
        try
        {
<span class="fc" id="L936">            return Long.decode(value);</span>
        }
<span class="nc" id="L938">        catch (NumberFormatException e)</span>
        {
<span class="nc" id="L940">            throw new ConfigurationException(String.format(&quot;Invalid value for system property: &quot; +</span>
                                                           &quot;expected long value but got '%s'&quot;, value));
        }
    };

<span class="fc" id="L945">    private static final PropertyConverter&lt;Long&gt; SIZE_IN_BYTES_CONVERTER = value -&gt;</span>
    {
        try
        {
<span class="nc" id="L949">            return FBUtilities.parseHumanReadableBytes(value);</span>
        }
<span class="nc" id="L951">        catch (ConfigurationException e)</span>
        {
<span class="nc" id="L953">            throw new ConfigurationException(String.format(&quot;Invalid value for system property: &quot; +</span>
                                                           &quot;expected size in bytes with unit but got '%s'\n%s&quot;, value, e));
        }
    };

<span class="fc" id="L958">    private static final PropertyConverter&lt;Double&gt; DOUBLE_CONVERTER = value -&gt;</span>
    {
        try
        {
<span class="nc" id="L962">            return Double.parseDouble(value);</span>
        }
<span class="nc" id="L964">        catch (NumberFormatException e)</span>
        {
<span class="nc" id="L966">            throw new ConfigurationException(String.format(&quot;Invalid value for system property: &quot; +</span>
                                                           &quot;expected floating point value but got '%s'&quot;, value));
        }
    };

    /**
     * @return whether a system property is present or not.
     */
    public boolean isPresent()
    {
<span class="fc" id="L976">        return System.getProperties().containsKey(key);</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>