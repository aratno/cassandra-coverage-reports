<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TableParams.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCo Cassandara Coverage Report</a> &gt; <a href="index.source.html" class="el_package">org.apache.cassandra.schema</a> &gt; <span class="el_source">TableParams.java</span></div><h1>TableParams.java</h1><pre class="source lang-java linenums">/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.apache.cassandra.schema;

import java.nio.ByteBuffer;
import java.util.Map;
import java.util.Map.Entry;

import com.google.common.base.MoreObjects;
import com.google.common.base.Objects;
import com.google.common.collect.ImmutableMap;

import org.apache.cassandra.cql3.Attributes;
import org.apache.cassandra.cql3.CqlBuilder;
import org.apache.cassandra.exceptions.ConfigurationException;
import org.apache.cassandra.service.reads.PercentileSpeculativeRetryPolicy;
import org.apache.cassandra.service.reads.SpeculativeRetryPolicy;
import org.apache.cassandra.service.reads.repair.ReadRepairStrategy;
import org.apache.cassandra.utils.BloomCalculations;
import org.apache.cassandra.utils.ByteBufferUtil;

import static java.lang.String.format;
import static java.util.stream.Collectors.toMap;
import static org.apache.cassandra.schema.TableParams.Option.*;

public final class TableParams
{
<span class="fc" id="L43">    public enum Option</span>
    {
<span class="fc" id="L45">        ALLOW_AUTO_SNAPSHOT,</span>
<span class="fc" id="L46">        BLOOM_FILTER_FP_CHANCE,</span>
<span class="fc" id="L47">        CACHING,</span>
<span class="fc" id="L48">        COMMENT,</span>
<span class="fc" id="L49">        COMPACTION,</span>
<span class="fc" id="L50">        COMPRESSION,</span>
<span class="fc" id="L51">        MEMTABLE,</span>
<span class="fc" id="L52">        DEFAULT_TIME_TO_LIVE,</span>
<span class="fc" id="L53">        EXTENSIONS,</span>
<span class="fc" id="L54">        GC_GRACE_SECONDS,</span>
<span class="fc" id="L55">        INCREMENTAL_BACKUPS,</span>
<span class="fc" id="L56">        MAX_INDEX_INTERVAL,</span>
<span class="fc" id="L57">        MEMTABLE_FLUSH_PERIOD_IN_MS,</span>
<span class="fc" id="L58">        MIN_INDEX_INTERVAL,</span>
<span class="fc" id="L59">        SPECULATIVE_RETRY,</span>
<span class="fc" id="L60">        ADDITIONAL_WRITE_POLICY,</span>
<span class="fc" id="L61">        CRC_CHECK_CHANCE,</span>
<span class="fc" id="L62">        CDC,</span>
<span class="fc" id="L63">        READ_REPAIR;</span>

        @Override
        public String toString()
        {
<span class="fc" id="L68">            return name().toLowerCase();</span>
        }
    }

    public final String comment;
    public final boolean allowAutoSnapshot;
    public final double bloomFilterFpChance;
    public final double crcCheckChance;
    public final int gcGraceSeconds;
    public final boolean incrementalBackups;
    public final int defaultTimeToLive;
    public final int memtableFlushPeriodInMs;
    public final int minIndexInterval;
    public final int maxIndexInterval;
    public final SpeculativeRetryPolicy speculativeRetry;
    public final SpeculativeRetryPolicy additionalWritePolicy;
    public final CachingParams caching;
    public final CompactionParams compaction;
    public final CompressionParams compression;
    public final MemtableParams memtable;
    public final ImmutableMap&lt;String, ByteBuffer&gt; extensions;
    public final boolean cdc;
    public final ReadRepairStrategy readRepair;

    private TableParams(Builder builder)
<span class="fc" id="L93">    {</span>
<span class="fc" id="L94">        comment = builder.comment;</span>
<span class="fc" id="L95">        allowAutoSnapshot = builder.allowAutoSnapshot;</span>
<span class="fc bfc" id="L96" title="All 2 branches covered.">        bloomFilterFpChance = builder.bloomFilterFpChance == -1</span>
<span class="fc" id="L97">                            ? builder.compaction.defaultBloomFilterFbChance()</span>
<span class="fc" id="L98">                            : builder.bloomFilterFpChance;</span>
<span class="fc" id="L99">        crcCheckChance = builder.crcCheckChance;</span>
<span class="fc" id="L100">        gcGraceSeconds = builder.gcGraceSeconds;</span>
<span class="fc" id="L101">        incrementalBackups = builder.incrementalBackups;</span>
<span class="fc" id="L102">        defaultTimeToLive = builder.defaultTimeToLive;</span>
<span class="fc" id="L103">        memtableFlushPeriodInMs = builder.memtableFlushPeriodInMs;</span>
<span class="fc" id="L104">        minIndexInterval = builder.minIndexInterval;</span>
<span class="fc" id="L105">        maxIndexInterval = builder.maxIndexInterval;</span>
<span class="fc" id="L106">        speculativeRetry = builder.speculativeRetry;</span>
<span class="fc" id="L107">        additionalWritePolicy = builder.additionalWritePolicy;</span>
<span class="fc" id="L108">        caching = builder.caching;</span>
<span class="fc" id="L109">        compaction = builder.compaction;</span>
<span class="fc" id="L110">        compression = builder.compression;</span>
<span class="fc" id="L111">        memtable = builder.memtable;</span>
<span class="fc" id="L112">        extensions = builder.extensions;</span>
<span class="fc" id="L113">        cdc = builder.cdc;</span>
<span class="fc" id="L114">        readRepair = builder.readRepair;</span>
<span class="fc" id="L115">    }</span>

    public static Builder builder()
    {
<span class="fc" id="L119">        return new Builder();</span>
    }

    public static Builder builder(TableParams params)
    {
<span class="fc" id="L124">        return new Builder().allowAutoSnapshot(params.allowAutoSnapshot)</span>
<span class="fc" id="L125">                            .bloomFilterFpChance(params.bloomFilterFpChance)</span>
<span class="fc" id="L126">                            .caching(params.caching)</span>
<span class="fc" id="L127">                            .comment(params.comment)</span>
<span class="fc" id="L128">                            .compaction(params.compaction)</span>
<span class="fc" id="L129">                            .compression(params.compression)</span>
<span class="fc" id="L130">                            .memtable(params.memtable)</span>
<span class="fc" id="L131">                            .crcCheckChance(params.crcCheckChance)</span>
<span class="fc" id="L132">                            .defaultTimeToLive(params.defaultTimeToLive)</span>
<span class="fc" id="L133">                            .gcGraceSeconds(params.gcGraceSeconds)</span>
<span class="fc" id="L134">                            .incrementalBackups(params.incrementalBackups)</span>
<span class="fc" id="L135">                            .maxIndexInterval(params.maxIndexInterval)</span>
<span class="fc" id="L136">                            .memtableFlushPeriodInMs(params.memtableFlushPeriodInMs)</span>
<span class="fc" id="L137">                            .minIndexInterval(params.minIndexInterval)</span>
<span class="fc" id="L138">                            .speculativeRetry(params.speculativeRetry)</span>
<span class="fc" id="L139">                            .additionalWritePolicy(params.additionalWritePolicy)</span>
<span class="fc" id="L140">                            .extensions(params.extensions)</span>
<span class="fc" id="L141">                            .cdc(params.cdc)</span>
<span class="fc" id="L142">                            .readRepair(params.readRepair);</span>
    }

    public Builder unbuild()
    {
<span class="fc" id="L147">        return builder(this);</span>
    }

    public void validate()
    {
<span class="fc" id="L152">        compaction.validate();</span>
<span class="fc" id="L153">        compression.validate();</span>

<span class="fc" id="L155">        double minBloomFilterFpChanceValue = BloomCalculations.minSupportedBloomFilterFpChance();</span>
<span class="fc bfc" id="L156" title="All 4 branches covered.">        if (bloomFilterFpChance &lt;=  minBloomFilterFpChanceValue || bloomFilterFpChance &gt; 1)</span>
        {
<span class="pc" id="L158">            fail(&quot;%s must be larger than %s and less than or equal to 1.0 (got %s)&quot;,</span>
                 BLOOM_FILTER_FP_CHANCE,
<span class="fc" id="L160">                 minBloomFilterFpChanceValue,</span>
<span class="fc" id="L161">                 bloomFilterFpChance);</span>
        }

<span class="pc bpc" id="L164" title="2 of 4 branches missed.">        if (crcCheckChance &lt; 0 || crcCheckChance &gt; 1.0)</span>
        {
<span class="nc" id="L166">            fail(&quot;%s must be larger than or equal to 0 and smaller than or equal to 1.0 (got %s)&quot;,</span>
                 CRC_CHECK_CHANCE,
<span class="nc" id="L168">                 crcCheckChance);</span>
        }

<span class="fc bfc" id="L171" title="All 2 branches covered.">        if (defaultTimeToLive &lt; 0)</span>
<span class="nc" id="L172">            fail(&quot;%s must be greater than or equal to 0 (got %s)&quot;, DEFAULT_TIME_TO_LIVE, defaultTimeToLive);</span>

<span class="fc bfc" id="L174" title="All 2 branches covered.">        if (defaultTimeToLive &gt; Attributes.MAX_TTL)</span>
<span class="nc" id="L175">            fail(&quot;%s must be less than or equal to %d (got %s)&quot;, DEFAULT_TIME_TO_LIVE, Attributes.MAX_TTL, defaultTimeToLive);</span>

<span class="pc bpc" id="L177" title="1 of 2 branches missed.">        if (gcGraceSeconds &lt; 0)</span>
<span class="nc" id="L178">            fail(&quot;%s must be greater than or equal to 0 (got %s)&quot;, GC_GRACE_SECONDS, gcGraceSeconds);</span>

<span class="pc bpc" id="L180" title="1 of 2 branches missed.">        if (minIndexInterval &lt; 1)</span>
<span class="nc" id="L181">            fail(&quot;%s must be greater than or equal to 1 (got %s)&quot;, MIN_INDEX_INTERVAL, minIndexInterval);</span>

<span class="pc bpc" id="L183" title="1 of 2 branches missed.">        if (maxIndexInterval &lt; minIndexInterval)</span>
        {
<span class="nc" id="L185">            fail(&quot;%s must be greater than or equal to %s (%s) (got %s)&quot;,</span>
                 MAX_INDEX_INTERVAL,
                 MIN_INDEX_INTERVAL,
<span class="nc" id="L188">                 minIndexInterval,</span>
<span class="nc" id="L189">                 maxIndexInterval);</span>
        }

<span class="pc bpc" id="L192" title="1 of 2 branches missed.">        if (memtableFlushPeriodInMs &lt; 0)</span>
<span class="nc" id="L193">            fail(&quot;%s must be greater than or equal to 0 (got %s)&quot;, MEMTABLE_FLUSH_PERIOD_IN_MS, memtableFlushPeriodInMs);</span>

<span class="pc bpc" id="L195" title="1 of 4 branches missed.">        if (cdc &amp;&amp; memtable.factory().writesShouldSkipCommitLog())</span>
<span class="nc" id="L196">            fail(&quot;CDC cannot work if writes skip the commit log. Check your memtable configuration.&quot;);</span>
<span class="fc" id="L197">    }</span>

    private static void fail(String format, Object... args)
    {
<span class="fc" id="L201">        throw new ConfigurationException(format(format, args));</span>
    }

    @Override
    public boolean equals(Object o)
    {
<span class="fc bfc" id="L207" title="All 2 branches covered.">        if (this == o)</span>
<span class="fc" id="L208">            return true;</span>

<span class="pc bpc" id="L210" title="1 of 2 branches missed.">        if (!(o instanceof TableParams))</span>
<span class="nc" id="L211">            return false;</span>

<span class="fc" id="L213">        TableParams p = (TableParams) o;</span>

<span class="fc bfc" id="L215" title="All 2 branches covered.">        return comment.equals(p.comment)</span>
<span class="pc bpc" id="L216" title="2 of 20 branches missed.">            &amp;&amp; additionalWritePolicy.equals(p.additionalWritePolicy)</span>
            &amp;&amp; allowAutoSnapshot == p.allowAutoSnapshot
            &amp;&amp; bloomFilterFpChance == p.bloomFilterFpChance
            &amp;&amp; crcCheckChance == p.crcCheckChance
            &amp;&amp; gcGraceSeconds == p.gcGraceSeconds 
            &amp;&amp; incrementalBackups == p.incrementalBackups
            &amp;&amp; defaultTimeToLive == p.defaultTimeToLive
            &amp;&amp; memtableFlushPeriodInMs == p.memtableFlushPeriodInMs
            &amp;&amp; minIndexInterval == p.minIndexInterval
            &amp;&amp; maxIndexInterval == p.maxIndexInterval
<span class="pc bpc" id="L226" title="1 of 2 branches missed.">            &amp;&amp; speculativeRetry.equals(p.speculativeRetry)</span>
<span class="fc bfc" id="L227" title="All 2 branches covered.">            &amp;&amp; caching.equals(p.caching)</span>
<span class="fc bfc" id="L228" title="All 2 branches covered.">            &amp;&amp; compaction.equals(p.compaction)</span>
<span class="fc bfc" id="L229" title="All 2 branches covered.">            &amp;&amp; compression.equals(p.compression)</span>
<span class="fc bfc" id="L230" title="All 2 branches covered.">            &amp;&amp; memtable.equals(p.memtable)</span>
<span class="pc bpc" id="L231" title="1 of 6 branches missed.">            &amp;&amp; extensions.equals(p.extensions)</span>
            &amp;&amp; cdc == p.cdc
            &amp;&amp; readRepair == p.readRepair;
    }

    @Override
    public int hashCode()
    {
<span class="fc" id="L239">        return Objects.hashCode(comment,</span>
                                additionalWritePolicy,
<span class="fc" id="L241">                                allowAutoSnapshot,</span>
<span class="fc" id="L242">                                bloomFilterFpChance,</span>
<span class="fc" id="L243">                                crcCheckChance,</span>
<span class="fc" id="L244">                                gcGraceSeconds,</span>
<span class="fc" id="L245">                                incrementalBackups,</span>
<span class="fc" id="L246">                                defaultTimeToLive,</span>
<span class="fc" id="L247">                                memtableFlushPeriodInMs,</span>
<span class="fc" id="L248">                                minIndexInterval,</span>
<span class="fc" id="L249">                                maxIndexInterval,</span>
                                speculativeRetry,
                                caching,
                                compaction,
                                compression,
                                memtable,
                                extensions,
<span class="fc" id="L256">                                cdc,</span>
                                readRepair);
    }

    @Override
    public String toString()
    {
<span class="nc" id="L263">        return MoreObjects.toStringHelper(this)</span>
<span class="nc" id="L264">                          .add(COMMENT.toString(), comment)</span>
<span class="nc" id="L265">                          .add(ADDITIONAL_WRITE_POLICY.toString(), additionalWritePolicy)</span>
<span class="nc" id="L266">                          .add(ALLOW_AUTO_SNAPSHOT.toString(), allowAutoSnapshot)</span>
<span class="nc" id="L267">                          .add(BLOOM_FILTER_FP_CHANCE.toString(), bloomFilterFpChance)</span>
<span class="nc" id="L268">                          .add(CRC_CHECK_CHANCE.toString(), crcCheckChance)</span>
<span class="nc" id="L269">                          .add(GC_GRACE_SECONDS.toString(), gcGraceSeconds)</span>
<span class="nc" id="L270">                          .add(DEFAULT_TIME_TO_LIVE.toString(), defaultTimeToLive)</span>
<span class="nc" id="L271">                          .add(INCREMENTAL_BACKUPS.toString(), incrementalBackups)</span>
<span class="nc" id="L272">                          .add(MEMTABLE_FLUSH_PERIOD_IN_MS.toString(), memtableFlushPeriodInMs)</span>
<span class="nc" id="L273">                          .add(MIN_INDEX_INTERVAL.toString(), minIndexInterval)</span>
<span class="nc" id="L274">                          .add(MAX_INDEX_INTERVAL.toString(), maxIndexInterval)</span>
<span class="nc" id="L275">                          .add(SPECULATIVE_RETRY.toString(), speculativeRetry)</span>
<span class="nc" id="L276">                          .add(CACHING.toString(), caching)</span>
<span class="nc" id="L277">                          .add(COMPACTION.toString(), compaction)</span>
<span class="nc" id="L278">                          .add(COMPRESSION.toString(), compression)</span>
<span class="nc" id="L279">                          .add(MEMTABLE.toString(), memtable)</span>
<span class="nc" id="L280">                          .add(EXTENSIONS.toString(), extensions)</span>
<span class="nc" id="L281">                          .add(CDC.toString(), cdc)</span>
<span class="nc" id="L282">                          .add(READ_REPAIR.toString(), readRepair)</span>
<span class="nc" id="L283">                          .toString();</span>
    }

    public void appendCqlTo(CqlBuilder builder, boolean isView)
    {
        // option names should be in alphabetical order
<span class="fc" id="L289">        builder.append(&quot;additional_write_policy = &quot;).appendWithSingleQuotes(additionalWritePolicy.toString())</span>
<span class="fc" id="L290">               .newLine()</span>
<span class="fc" id="L291">               .append(&quot;AND allow_auto_snapshot = &quot;).append(allowAutoSnapshot)</span>
<span class="fc" id="L292">               .newLine()</span>
<span class="fc" id="L293">               .append(&quot;AND bloom_filter_fp_chance = &quot;).append(bloomFilterFpChance)</span>
<span class="fc" id="L294">               .newLine()</span>
<span class="fc" id="L295">               .append(&quot;AND caching = &quot;).append(caching.asMap())</span>
<span class="fc" id="L296">               .newLine()</span>
<span class="fc" id="L297">               .append(&quot;AND cdc = &quot;).append(cdc)</span>
<span class="fc" id="L298">               .newLine()</span>
<span class="fc" id="L299">               .append(&quot;AND comment = &quot;).appendWithSingleQuotes(comment)</span>
<span class="fc" id="L300">               .newLine()</span>
<span class="fc" id="L301">               .append(&quot;AND compaction = &quot;).append(compaction.asMap())</span>
<span class="fc" id="L302">               .newLine()</span>
<span class="fc" id="L303">               .append(&quot;AND compression = &quot;).append(compression.asMap())</span>
<span class="fc" id="L304">               .newLine()</span>
<span class="fc" id="L305">               .append(&quot;AND memtable = &quot;).appendWithSingleQuotes(memtable.configurationKey())</span>
<span class="fc" id="L306">               .newLine()</span>
<span class="fc" id="L307">               .append(&quot;AND crc_check_chance = &quot;).append(crcCheckChance)</span>
<span class="fc" id="L308">               .newLine();</span>

<span class="fc bfc" id="L310" title="All 2 branches covered.">        if (!isView)</span>
        {
<span class="fc" id="L312">            builder.append(&quot;AND default_time_to_live = &quot;).append(defaultTimeToLive)</span>
<span class="fc" id="L313">                   .newLine();</span>
        }

<span class="fc" id="L316">        builder.append(&quot;AND extensions = &quot;).append(extensions.entrySet()</span>
<span class="fc" id="L317">                                                             .stream()</span>
<span class="fc" id="L318">                                                             .collect(toMap(Entry::getKey,</span>
<span class="fc" id="L319">                                                                            e -&gt; &quot;0x&quot; + ByteBufferUtil.bytesToHex(e.getValue()))),</span>
                                                   false)
<span class="fc" id="L321">               .newLine()</span>
<span class="fc" id="L322">               .append(&quot;AND gc_grace_seconds = &quot;).append(gcGraceSeconds)</span>
<span class="fc" id="L323">               .newLine()</span>
<span class="fc" id="L324">               .append(&quot;AND incremental_backups = &quot;).append(incrementalBackups)</span>
<span class="fc" id="L325">               .newLine()</span>
<span class="fc" id="L326">               .append(&quot;AND max_index_interval = &quot;).append(maxIndexInterval)</span>
<span class="fc" id="L327">               .newLine()</span>
<span class="fc" id="L328">               .append(&quot;AND memtable_flush_period_in_ms = &quot;).append(memtableFlushPeriodInMs)</span>
<span class="fc" id="L329">               .newLine()</span>
<span class="fc" id="L330">               .append(&quot;AND min_index_interval = &quot;).append(minIndexInterval)</span>
<span class="fc" id="L331">               .newLine()</span>
<span class="fc" id="L332">               .append(&quot;AND read_repair = &quot;).appendWithSingleQuotes(readRepair.toString())</span>
<span class="fc" id="L333">               .newLine()</span>
<span class="fc" id="L334">               .append(&quot;AND speculative_retry = &quot;).appendWithSingleQuotes(speculativeRetry.toString());</span>
<span class="fc" id="L335">    }</span>

    public static final class Builder
    {
<span class="fc" id="L339">        private String comment = &quot;&quot;;</span>
<span class="fc" id="L340">        private boolean allowAutoSnapshot = true;</span>
<span class="fc" id="L341">        private double bloomFilterFpChance = -1;</span>
<span class="fc" id="L342">        private double crcCheckChance = 1.0;</span>
<span class="fc" id="L343">        private int gcGraceSeconds = 864000; // 10 days</span>
<span class="fc" id="L344">        private boolean incrementalBackups = true;</span>
<span class="fc" id="L345">        private int defaultTimeToLive = 0;</span>
<span class="fc" id="L346">        private int memtableFlushPeriodInMs = 0;</span>
<span class="fc" id="L347">        private int minIndexInterval = 128;</span>
<span class="fc" id="L348">        private int maxIndexInterval = 2048;</span>
<span class="fc" id="L349">        private SpeculativeRetryPolicy speculativeRetry = PercentileSpeculativeRetryPolicy.NINETY_NINE_P;</span>
<span class="fc" id="L350">        private SpeculativeRetryPolicy additionalWritePolicy = PercentileSpeculativeRetryPolicy.NINETY_NINE_P;</span>
<span class="fc" id="L351">        private CachingParams caching = CachingParams.DEFAULT;</span>
<span class="fc" id="L352">        private CompactionParams compaction = CompactionParams.DEFAULT;</span>
<span class="fc" id="L353">        private CompressionParams compression = CompressionParams.DEFAULT;</span>
<span class="fc" id="L354">        private MemtableParams memtable = MemtableParams.DEFAULT;</span>
<span class="fc" id="L355">        private ImmutableMap&lt;String, ByteBuffer&gt; extensions = ImmutableMap.of();</span>
        private boolean cdc;
<span class="fc" id="L357">        private ReadRepairStrategy readRepair = ReadRepairStrategy.BLOCKING;</span>

        public Builder()
<span class="fc" id="L360">        {</span>
<span class="fc" id="L361">        }</span>

        public TableParams build()
        {
<span class="fc" id="L365">            return new TableParams(this);</span>
        }

        public Builder comment(String val)
        {
<span class="fc" id="L370">            comment = val;</span>
<span class="fc" id="L371">            return this;</span>
        }

        public Builder allowAutoSnapshot(boolean val)
        {
<span class="fc" id="L376">            allowAutoSnapshot = val;</span>
<span class="fc" id="L377">            return this;</span>
        }

        public Builder bloomFilterFpChance(double val)
        {
<span class="fc" id="L382">            bloomFilterFpChance = val;</span>
<span class="fc" id="L383">            return this;</span>
        }

        public Builder crcCheckChance(double val)
        {
<span class="fc" id="L388">            crcCheckChance = val;</span>
<span class="fc" id="L389">            return this;</span>
        }

        public Builder gcGraceSeconds(int val)
        {
<span class="fc" id="L394">            gcGraceSeconds = val;</span>
<span class="fc" id="L395">            return this;</span>
        }

        public Builder incrementalBackups(boolean val)
        {
<span class="fc" id="L400">            incrementalBackups = val;</span>
<span class="fc" id="L401">            return this;</span>
        }

        public Builder defaultTimeToLive(int val)
        {
<span class="fc" id="L406">            defaultTimeToLive = val;</span>
<span class="fc" id="L407">            return this;</span>
        }

        public Builder memtableFlushPeriodInMs(int val)
        {
<span class="fc" id="L412">            memtableFlushPeriodInMs = val;</span>
<span class="fc" id="L413">            return this;</span>
        }

        public Builder minIndexInterval(int val)
        {
<span class="fc" id="L418">            minIndexInterval = val;</span>
<span class="fc" id="L419">            return this;</span>
        }

        public Builder maxIndexInterval(int val)
        {
<span class="fc" id="L424">            maxIndexInterval = val;</span>
<span class="fc" id="L425">            return this;</span>
        }

        public Builder speculativeRetry(SpeculativeRetryPolicy val)
        {
<span class="fc" id="L430">            speculativeRetry = val;</span>
<span class="fc" id="L431">            return this;</span>
        }

        public Builder additionalWritePolicy(SpeculativeRetryPolicy val)
        {
<span class="fc" id="L436">            additionalWritePolicy = val;</span>
<span class="fc" id="L437">            return this;</span>
        }

        public Builder caching(CachingParams val)
        {
<span class="fc" id="L442">            caching = val;</span>
<span class="fc" id="L443">            return this;</span>
        }

        public Builder compaction(CompactionParams val)
        {
<span class="fc" id="L448">            compaction = val;</span>
<span class="fc" id="L449">            return this;</span>
        }

        public Builder memtable(MemtableParams val)
        {
<span class="fc" id="L454">            memtable = val;</span>
<span class="fc" id="L455">            return this;</span>
        }

        public Builder compression(CompressionParams val)
        {
<span class="fc" id="L460">            compression = val;</span>
<span class="fc" id="L461">            return this;</span>
        }

        public Builder cdc(boolean val)
        {
<span class="fc" id="L466">            cdc = val;</span>
<span class="fc" id="L467">            return this;</span>
        }

        public Builder readRepair(ReadRepairStrategy val)
        {
<span class="fc" id="L472">            readRepair = val;</span>
<span class="fc" id="L473">            return this;</span>
        }

        public Builder extensions(Map&lt;String, ByteBuffer&gt; val)
        {
<span class="fc" id="L478">            extensions = ImmutableMap.copyOf(val);</span>
<span class="fc" id="L479">            return this;</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>